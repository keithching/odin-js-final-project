/*! For license information please see main.ad792483.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,S=60108,T=60114,I=60109,C=60110,N=60112,R=60113,A=60120,P=60115,O=60116,L=60121,D=60128,j=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;x=F("react.element"),_=F("react.portal"),E=F("react.fragment"),S=F("react.strict_mode"),T=F("react.profiler"),I=F("react.provider"),C=F("react.context"),N=F("react.forward_ref"),R=F("react.suspense"),A=F("react.suspense_list"),P=F("react.memo"),O=F("react.lazy"),L=F("react.block"),F("react.scope"),D=F("react.opaque.id"),j=F("react.debug_trace_mode"),M=F("react.offscreen"),U=F("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case T:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case L:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Re(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Oe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function De(){}var je=Oe,Me=!1,Ue=!1;function Fe(){null===Ce&&null===Ne||(De(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Xe(e,t,n,r,i,a,o,s,u){He=!1,We=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},St={},Tt={};function It(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return St[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),Rt=It("animationstart"),At=It("transitionend"),Pt=new Map,Ot=new Map,Lt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Mt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=jt):0!==(s&=a)&&(r=Mt(s),i=jt)}else 0!==(a=n&~o)?(r=Mt(a),i=jt):0!==s&&(r=Mt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Xt=!0;function $t(e,t,n,r){Me||De();var i=Jt,a=Me;Me=!0;try{Le(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Yt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),_n=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=un(Nn),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(Ln),jn=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Fn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Mn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,$n=null;function Yn(e){Nr(e,0)}function Jn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",ar),$n=Xn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Xn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Lt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Ot.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Xe.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Rr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Lr(a,e,i,t),o.add(s))}function Lr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{je(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Rn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case Rt:u=wn;break;case At:u=On;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(kr=g,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Mr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Hn(n))&&(k.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ve(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(jr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Jr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Si=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ri=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Di=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Mi={},Ui=void 0!==Ni?Ni:function(){},Fi=null,Vi=null,zi=!1,Bi=Ri(),qi=1e4>Bi?Ri:function(){return Ri()-Bi};function Hi(){switch(Ai()){case Pi:return 99;case Oi:return 98;case Li:return 97;case Di:return 96;case ji:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Li;case 96:return Di;case 95:return ji;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Si(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Xi()}function Xi(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Pi,Qi),n}finally{zi=!1}}}var $i=b.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Yu(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Sa(!0),Ia=Sa(!1),Ca={},Na=ci(Ca),Ra=ci(Ca),Aa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Aa,t),fi(Ra,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function La(){li(Na),li(Ra),li(Aa)}function Da(e){Pa(Aa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Ra,e),fi(Na,n))}function ja(e){Ra.current===e&&(li(Na),li(Ra))}var Ma=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,za=!1;function Ba(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Fa=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ka(e){if(e!==Fa)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,za=!1}var Qa=[];function Xa(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=b.ReactCurrentDispatcher,Ya=b.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Oo:Lo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Do,e=n(r,i)}while(ro)}if($a.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ro(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Ro.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},jo=b.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(gi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,jo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Xo,$o,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Xu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Xu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return La(),li(pi),li(di),Xa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:ja(t);var a=Pa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Xo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Rr(Tr[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":ue(r,s),Rr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Rr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),a=r;break;case"iframe":case"object":case"embed":Rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Rr(Tr[a],e);a=r;break;case"source":Rr("error",e),a=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=r;break;case"details":Rr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Rr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Rr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Rr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Aa.current),Pa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Os||0===(134217727&zs)&&0===(134217727&Bs)||yu(Os,Ds))),(r||n)&&(t.flags|=4),null);case 4:return La(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),li(pi),li(di),Xa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return La(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Rr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Ys=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),ys(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Rs=b.ReactCurrentDispatcher,As=b.ReactCurrentOwner,Ps=0,Os=null,Ls=null,Ds=0,js=0,Ms=ci(0),Us=0,Fs=null,Vs=0,zs=0,Bs=0,qs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,Xs=null,$s=!1,Ys=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(Bs|=t,4===Us&&yu(e,Ds));var r=Hi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=jt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Os?Ds:0),t=jt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Pi,Xi)):Fi.push(n),n=Mi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ut(e,e===Os?Ds:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Tu();for(Os===e&&Ds===r||(Gs(),Eu(e,r));;)try{Nu();break}catch(u){Su(e,u)}if(na(),Rs.current=a,Ps=i,null!==Ls?r=0:(Os=null,Ds=0,r=Us),0!==(Vs&Bs))Eu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Iu(e,n))),1===r)throw t=Fs,Eu(e,0),yu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Du(),e===Os&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Iu(e,t);0!==(Vs&Bs)&&(n=Iu(e,t=Ut(e,t)))}else n=Iu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Iu(e,t))),1===n)throw n=Fs,Eu(e,0),yu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function wu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function bu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Ms,js),js|=t,Vs|=t}function _u(){js=Ms.current,li(Ms)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:La(),li(pi),li(di),Xa();break;case 5:ja(r);break;case 4:La();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ls=Ku(e.current,null),Ds=js=Vs=t,Us=0,Fs=null,qs=Bs=zs=0}function Su(e,t){for(;;){var n=Ls;try{if(na(),$a.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,As.current=null,null===n||null===n.return){Us=1,Fs=t,Ls=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=zu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(_){t=_,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function Tu(){var e=Rs.current;return Rs.current=Po,null===e?Po:e}function Iu(e,t){var n=Ps;Ps|=16;var r=Tu();for(Os===e&&Ds===t||Eu(e,t);;)try{Cu();break}catch(i){Su(e,i)}if(na(),Ps=n,Rs.current=r,null!==Ls)throw Error(o(261));return Os=null,Ds=0,Us}function Cu(){for(;null!==Ls;)Ru(Ls)}function Nu(){for(;null!==Ls&&!Ci();)Ru(Ls)}function Ru(e){var t=Qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Au(e):Ls=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Ls=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ls=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Hi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Du()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ls=Os=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,As.current=null,zr=Xt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Xt=!1,lu=null,fu=!1,Xs=r;do{try{Lu()}catch(T){if(null===Xs)throw Error(o(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);lu=null,Xs=r;do{try{for(s=e;null!==Xs;){var k=Xs.flags;if(16&k&&ye(Xs.stateNode,""),128&k){var w=Xs.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs(Xs),Xs.flags&=-3;break;case 6:xs(Xs),Xs.flags&=-3,Ts(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Ts(Xs.alternate,Xs);break;case 4:Ts(Xs.alternate,Xs);break;case 8:Ss(s,u=Xs);var x=u.alternate;ws(u),null!==x&&ws(x)}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(o(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);if(b=Br,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Xt=!!zr,Br=zr=null,e.current=n,Xs=r;do{try{for(k=e;null!==Xs;){var _=Xs.flags;if(36&_&&gs(k,Xs.alternate,Xs),128&_){w=void 0;var E=Xs.ref;if(null!==E){var S=Xs.stateNode;Xs.tag,w=S,"function"===typeof E?E(w):E.current=w}}Xs=Xs.nextEffect}}catch(T){if(null===Xs)throw Error(o(330));Vu(Xs,T),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Ui(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((_=Xs).sibling=null,_.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,qi()),$s)throw $s=!1,e=Ys,Ys=null,e;return 0!==(8&Ps)||Qi(),null}function Lu(){for(;null!==Xs;){var e=Xs.alternate;fu||null===lu||(0!==(8&Xs.flags)?et(Xs,lu)&&(fu=!0):13===Xs.tag&&Cs(e,Xs)&&et(Xs,lu)&&(fu=!0));var t=Xs.flags;0!==(256&t)&&ms(e,Xs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Du(),null}))),Xs=Xs.nextEffect}}function Du(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Uu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ds&n)===n&&(4===Us||3===Us&&(62914560&Ds)===Ds&&500>qi()-Ws?Eu(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case j:s=8,i|=16;break;case S:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case R:return(e=Hu(13,n,t,i)).type=R,e.elementType=R,e.lanes=a,e;case A:return(e=Hu(19,n,t,i)).elementType=A,e.lanes=a,e;case M:return Xu(n,i,a,t);case U:return(e=Hu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case L:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Xu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=M,e.lanes=n,e}function $u(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Yu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Da(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return Da(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Vo(e,t,i,a=Yi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=wu,Le=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},De=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Du())},je=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Ae,Pe,Du,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function A(){var e=R.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=y.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>S(o,n))void 0!==u&&0>S(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>S(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,R=3,A=!1,P=!1,O=!1;function L(e){for(var t=_(I);null!==t;){if(null===t.callback)E(I);else{if(!(t.startTime<=e))break;E(I),t.sortIndex=t.expirationTime,x(T,t)}t=_(I)}}function D(e){if(O=!1,L(e),!P)if(null!==_(T))P=!0,n(j);else{var t=_(I);null!==t&&r(D,t.startTime-e)}}function j(e,n){P=!1,O&&(O=!1,i()),A=!0;var a=R;try{for(L(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,R=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(T)&&E(T),L(n)}else E(T);N=_(T)}if(null!==N)var u=!0;else{var c=_(I);null!==c&&r(D,c.startTime-n),u=!1}return u}finally{N=null,R=a,A=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===_(T)&&e===_(I)&&(O?i():O=!0,r(D,o-s))):(e.sortIndex=u,x(T,e),P||A||(P=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},191:function(e){var t="undefined"!==typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,r){return(e||"")+""+t+n().toString(36)+(r||"")},e.exports.process=function(e,r){return(e||"")+t+n().toString(36)+(r||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s,u=s||(s={});u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var m=(0,e.createContext)(null);var g=(0,e.createContext)(null);var y=(0,e.createContext)({outlet:null,matches:[]});function k(t){return function(t){var n=(0,e.useContext)(y).outlet;if(n)return(0,e.createElement)(I.Provider,{value:t},n);return n}(t.context)}function w(e){v(!1)}function b(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,c=void 0===u?s.Pop:u,l=t.navigator,f=t.static,h=void 0!==f&&f;E()&&v(!1);var d=B(r),y=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=p(o));var k=o,w=k.pathname,b=void 0===w?"/":w,x=k.search,_=void 0===x?"":x,S=k.hash,T=void 0===S?"":S,I=k.state,C=void 0===I?null:I,N=k.key,R=void 0===N?"default":N,A=(0,e.useMemo)((function(){var e=V(b,d);return null==e?null:{pathname:e,search:_,hash:T,state:C,key:R}}),[d,b,_,T,C,R]);return null==A?null:(0,e.createElement)(m.Provider,{value:y},(0,e.createElement)(g.Provider,{children:a,value:{location:A,navigationType:c}}))}function x(t){var n=t.children,r=t.location;return function(t,n){E()||v(!1);var r=(0,e.useContext)(y).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=S();if(n){var c,l="string"===typeof n?p(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||v(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=j(i[o],r);return a}(t,{pathname:h});0;return M(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:z([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:z([o,e.pathnameBase])})})),r)}(A(n),r)}function _(t){E()||v(!1);var n=(0,e.useContext)(m),r=n.basename,i=n.navigator,a=R(t),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):z([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function E(){return null!=(0,e.useContext)(g)}function S(){return E()||v(!1),(0,e.useContext)(g).location}function T(){E()||v(!1);var t=(0,e.useContext)(m),n=t.basename,r=t.navigator,i=(0,e.useContext)(y).matches,a=S().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=F(e,JSON.parse(o),a);"/"!==n&&(i.pathname=z([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var I=(0,e.createContext)(null);function C(){return(0,e.useContext)(I)}function N(){var t=(0,e.useContext)(y).matches,n=t[t.length-1];return n?n.params:{}}function R(t){var n=(0,e.useContext)(y).matches,r=S().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return F(t,JSON.parse(i),r)}),[t,i,r])}function A(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==w&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=A(t.props.children)),n.push(r)}else n.push.apply(n,A(t.props.children))})),n}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||v(!1),a.relativePath=a.relativePath.slice(r.length));var o=z([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&v(!1),P(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:s})})),t}var O=/^:\w+$/,L=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(L)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!L(e)})).reduce((function(e,t){return e+(O.test(t)?3:""===t?1:10)}),r)}function j(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=U({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:z([i,l.pathname]),pathnameBase:z([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=z([i,l.pathnameBase]))}return a}function M(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(k,null),value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function U(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function F(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:q(a),hash:H(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var z=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var G=["onClick","reloadDocument","replace","state","target","to"],Q=["aria-current","caseSensitive","className","end","style","to","children"];function X(t){var n=t.basename,r=t.children,i=t.window,u=(0,e.useRef)();null==u.current&&(u.current=function(e){function t(){var e=p(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=m.state||{};return[r.idx,c({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(g)x.call(g),g=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],x.length){if(null!=r){var i=k-r;i&&(g={action:e,location:n,retry:function(){u(-1*i)}},u(i))}}else a(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:d(e))}function i(e,t){return void 0===t&&(t=null),c(o({pathname:w.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function a(e){y=e,e=t(),k=e[0],w=e[1],b.call({action:y,location:w})}function u(e){m.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,m=v.history,g=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){d(t()[1])!==d(w)&&n()}));var y=s.Pop,k=(e=t())[0],w=e[1],b=f(),x=f();return null==k&&(k=0,m.replaceState(o({},m.state,{idx:k}),"")),{get action(){return y},get location(){return w},createHref:r,push:function e(t,n){var o=s.Push,u=i(t,n);if(!x.length||(x.call({action:o,location:u,retry:function(){e(t,n)}}),0)){var c=[{usr:u.state,key:u.key,idx:k+1},r(u)];u=c[0],c=c[1];try{m.pushState(u,"",c)}catch(Ur){v.location.assign(c)}a(o)}},replace:function e(t,n){var o=s.Replace,u=i(t,n);x.length&&(x.call({action:o,location:u,retry:function(){e(t,n)}}),1)||(u=[{usr:u.state,key:u.key,idx:k},r(u)],m.replaceState(u[0],"",u[1]),a(o))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return b.push(e)},block:function(e){var t=x.push(e);return 1===x.length&&v.addEventListener("beforeunload",l),function(){t(),x.length||v.removeEventListener("beforeunload",l)}}}}({window:i}));var v=u.current,m=a((0,e.useState)({action:v.action,location:v.location}),2),g=m[0],y=m[1];return(0,e.useLayoutEffect)((function(){return v.listen(y)}),[v]),(0,e.createElement)(b,{basename:n,children:r,location:g.location,navigationType:g.action,navigator:v})}var $=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,s=t.state,u=t.target,c=t.to,l=K(t,G),f=_(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=T(),u=S(),c=R(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||d(u)===d(c);s(t,{replace:n,state:o})}}),[u,s,c,a,o,i,t])}(c,{replace:o,state:s,target:u});return(0,e.createElement)("a",W({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var Y=(0,e.forwardRef)((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.caseSensitive,o=void 0!==a&&a,s=t.className,u=void 0===s?"":s,c=t.end,l=void 0!==c&&c,f=t.style,h=t.to,d=t.children,p=K(t,Q),v=S(),m=R(h),g=v.pathname,y=m.pathname;o||(g=g.toLowerCase(),y=y.toLowerCase());var k,w=g===y||!l&&g.startsWith(y)&&"/"===g.charAt(y.length),b=w?i:void 0;k="function"===typeof u?u({isActive:w}):[u,w?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:w}):f;return(0,e.createElement)($,W({},p,{"aria-current":b,className:k,ref:n,style:x,to:h}),"function"===typeof d?d({isActive:w}):d)}));function J(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Z(a,r,i,o,s,"next",e)}function s(e){Z(a,r,i,o,s,"throw",e)}o(void 0)}))}}var te=n(757),ne=n.n(te);function re(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ie(e){re(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function ae(e,t){re(2,arguments);var n=ie(e),r=ie(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}Math.pow(10,8);var oe=36e5;function se(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ue(e,t){re(1,arguments);var n=t||{},r=null==n.additionalDigits?2:se(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,a=de(e);if(a.date){var o=pe(a.date,r);i=ve(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s,u=i.getTime(),c=0;if(a.time&&(c=ge(a.time),isNaN(c)))return new Date(NaN);if(!a.timezone){var l=new Date(u+c),f=new Date(0);return f.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),f.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),f}return s=ke(a.timezone),isNaN(s)?new Date(NaN):new Date(u+c+s)}var ce={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},le=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,he=/^([+-])(\d{2})(?::?(\d{2}))?$/;function de(e){var t,n={},r=e.split(ce.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],ce.timeZoneDelimiter.test(n.date)&&(n.date=e.split(ce.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=ce.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function pe(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}function ve(e,t){if(null===t)return new Date(NaN);var n=e.match(le);if(!n)return new Date(NaN);var r=!!n[4],i=me(n[1]),a=me(n[2])-1,o=me(n[3]),s=me(n[4]),u=me(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,u)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}(t,s,u):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(we[t]||(be(e)?29:28))}(t,a,o)&&function(e,t){return t>=1&&t<=(be(e)?366:365)}(t,i)?(c.setUTCFullYear(t,a,Math.max(i,o)),c):new Date(NaN)}function me(e){return e?parseInt(e):1}function ge(e){var t=e.match(fe);if(!t)return NaN;var n=ye(t[1]),r=ye(t[2]),i=ye(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?n*oe+6e4*r+1e3*i:NaN}function ye(e){return e&&parseFloat(e.replace(",","."))||0}function ke(e){if("Z"===e)return 0;var t=e.match(he);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(r*oe+6e4*i):NaN}var we=[31,null,31,30,31,30,31,31,30,31,30,31];function be(e){return e%400===0||e%4===0&&e%100!==0}var xe=n(191),_e=n.n(xe);function Ee(e,t){return Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ee(e,t)}function Se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Te(e,t,n){return Te=Se()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ee(i,n.prototype),i},Te.apply(null,arguments)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}function Ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ie(e)););return e}function Ne(){return Ne="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ce(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ne.apply(this,arguments)}function Re(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ee(e,t)}function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t){if(t&&("object"===Pe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function De(e){var t=Se();return function(){var n,r=Ie(e);if(t){var i=Ie(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Le(this,n)}}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e){var t="function"===typeof Map?new Map:void 0;return Ve=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Te(e,arguments,Ie(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ee(n,e)},Ve(e)}var ze=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ze(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qe=function(e){try{return Be.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var He=function(){function e(){var t=this;je(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ue(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function We(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Ge(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Qe(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Xe(){var e=We();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var $e=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a;return je(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Oe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Oe(a),Ye.prototype.create),a}return Ue(n)}(Ve(Error)),Ye=function(){function e(t,n,r){je(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ue(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Je(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new $e(n,a,t);return o}}]),e}();function Je(e,t){return e.replace(Ze,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ze=/\{\$([^}]+)}/g;function et(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(tt(s)&&tt(u)){if(!et(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function tt(e){return null!==e&&"object"===typeof e}function nt(e){for(var t=[],n=function(){var e=a(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function rt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=a(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function it(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var at=function(){function e(t,n){var r=this;je(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ue(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Re(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ot(){}function st(e){return e&&e._delegate?e._delegate:e}var ut=function(){function e(t,n,r){je(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ue(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ct="[DEFAULT]",lt=function(){function e(t,n){je(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ue(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new He;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ct})}catch(c){}var t,n=Re(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ee(te.mark((function e(){var t;return te.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(J(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),J(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=Re(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=a(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){s.e(h)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Re(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(rd){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ct?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(rd){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct;return this.component?this.component.multipleInstances?e:ct:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ft,ht,dt=function(){function e(t){je(this,e),this.name=t,this.providers=new Map}return Ue(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new lt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),pt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));var vt,mt,gt={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},yt=ht.INFO,kt=(Fe(ft={},ht.DEBUG,"log"),Fe(ft,ht.VERBOSE,"log"),Fe(ft,ht.INFO,"info"),Fe(ft,ht.WARN,"warn"),Fe(ft,ht.ERROR,"error"),ft),wt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=kt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},bt=function(){function e(t){je(this,e),this.name=t,this._logLevel=yt,this._logHandler=wt,this._userLogHandler=null,pt.push(this)}return Ue(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?gt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ht.DEBUG].concat(t)),this._logHandler.apply(this,[this,ht.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ht.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ht.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ht.INFO].concat(t)),this._logHandler.apply(this,[this,ht.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ht.WARN].concat(t)),this._logHandler.apply(this,[this,ht.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ht.ERROR].concat(t)),this._logHandler.apply(this,[this,ht.ERROR].concat(t))}}]),e}();var xt=function(){function e(t){je(this,e),this.container=t}return Ue(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var _t="@firebase/app",Et="0.7.15",St=new bt("@firebase/app"),Tt="[DEFAULT]",It=(Fe(vt={},_t,"fire-core"),Fe(vt,"@firebase/app-compat","fire-core-compat"),Fe(vt,"@firebase/analytics","fire-analytics"),Fe(vt,"@firebase/analytics-compat","fire-analytics-compat"),Fe(vt,"@firebase/app-check","fire-app-check"),Fe(vt,"@firebase/app-check-compat","fire-app-check-compat"),Fe(vt,"@firebase/auth","fire-auth"),Fe(vt,"@firebase/auth-compat","fire-auth-compat"),Fe(vt,"@firebase/database","fire-rtdb"),Fe(vt,"@firebase/database-compat","fire-rtdb-compat"),Fe(vt,"@firebase/functions","fire-fn"),Fe(vt,"@firebase/functions-compat","fire-fn-compat"),Fe(vt,"@firebase/installations","fire-iid"),Fe(vt,"@firebase/installations-compat","fire-iid-compat"),Fe(vt,"@firebase/messaging","fire-fcm"),Fe(vt,"@firebase/messaging-compat","fire-fcm-compat"),Fe(vt,"@firebase/performance","fire-perf"),Fe(vt,"@firebase/performance-compat","fire-perf-compat"),Fe(vt,"@firebase/remote-config","fire-rc"),Fe(vt,"@firebase/remote-config-compat","fire-rc-compat"),Fe(vt,"@firebase/storage","fire-gcs"),Fe(vt,"@firebase/storage-compat","fire-gcs-compat"),Fe(vt,"@firebase/firestore","fire-fst"),Fe(vt,"@firebase/firestore-compat","fire-fst-compat"),Fe(vt,"fire-js","fire-js"),Fe(vt,"firebase","fire-js-all"),vt),Ct=new Map,Nt=new Map;function Rt(e,t){try{e.container.addComponent(t)}catch(n){St.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function At(e){var t=e.name;if(Nt.has(t))return St.debug("There were multiple attempts to register component ".concat(t,".")),!1;Nt.set(t,e);var n,r=Re(Ct.values());try{for(r.s();!(n=r.n()).done;){Rt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Pt(e,t){return e.container.getProvider(t)}var Ot,Lt=(Fe(mt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Fe(mt,"bad-app-name","Illegal App name: '{$appName}"),Fe(mt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Fe(mt,"app-deleted","Firebase App named '{$appName}' already deleted"),Fe(mt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Fe(mt,"invalid-log-argument","First argument to `onLog` must be null or a function."),mt),Dt=new Ye("app","Firebase",Lt),jt=function(){function e(t,n,r){var i=this;je(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",(function(){return i}),"PUBLIC"))}return Ue(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}]),e}(),Mt="9.6.5";function Ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=Ct.get(e);if(!t)throw Dt.create("no-app",{appName:e});return t}function Ft(e,t,n){var r,i=null!==(r=It[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void St.warn(s.join(" "))}At(new ut("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}Ot="",At(new ut("platform-logger",(function(e){return new xt(e)}),"PRIVATE")),Ft(_t,Et,Ot),Ft(_t,Et,"esm2017"),Ft("fire-js","");var Vt,zt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Bt={},qt=qt||{},Ht=zt||self;function Wt(){}function Kt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Qt="closure_uid_"+(1e9*Math.random()>>>0),Xt=0;function $t(e,t,n){return e.call.apply(e.bind,arguments)}function Yt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Jt(e,t,n){return(Jt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$t:Yt).apply(null,arguments)}function Zt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function en(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function tn(){this.s=this.s,this.o=this.o}var nn={};tn.prototype.s=!1,tn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Qt)&&e[Qt]||(e[Qt]=++Xt)}(this);delete nn[e]}},tn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},an=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function on(e){return Array.prototype.concat.apply([],arguments)}function sn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function un(e){return/^[\s\xa0]*$/.test(e)}var cn,ln=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fn(e,t){return-1!=e.indexOf(t)}function hn(e,t){return e<t?-1:e>t?1:0}e:{var dn=Ht.navigator;if(dn){var pn=dn.userAgent;if(pn){cn=pn;break e}}cn=""}function vn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mn(e){var t={};for(var n in e)t[n]=e[n];return t}var gn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<gn.length;a++)n=gn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kn(e){return kn[" "](e),e}kn[" "]=Wt;var wn,bn=fn(cn,"Opera"),xn=fn(cn,"Trident")||fn(cn,"MSIE"),_n=fn(cn,"Edge"),En=_n||xn,Sn=fn(cn,"Gecko")&&!(fn(cn.toLowerCase(),"webkit")&&!fn(cn,"Edge"))&&!(fn(cn,"Trident")||fn(cn,"MSIE"))&&!fn(cn,"Edge"),Tn=fn(cn.toLowerCase(),"webkit")&&!fn(cn,"Edge");function In(){var e=Ht.document;return e?e.documentMode:void 0}e:{var Cn="",Nn=function(){var e=cn;return Sn?/rv:([^\);]+)(\)|;)/.exec(e):_n?/Edge\/([\d\.]+)/.exec(e):xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Tn?/WebKit\/(\S+)/.exec(e):bn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Nn&&(Cn=Nn?Nn[1]:""),xn){var Rn=In();if(null!=Rn&&Rn>parseFloat(Cn)){wn=String(Rn);break e}}wn=Cn}var An,Pn={};function On(){return function(e){var t=Pn;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ln(String(wn)).split("."),n=ln("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=hn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||hn(0==a[2].length,0==o[2].length)||hn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ht.document&&xn){var Ln=In();An=Ln||(parseInt(wn,10)||void 0)}else An=void 0;var Dn=An,jn=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ht.addEventListener("test",Wt,t),Ht.removeEventListener("test",Wt,t)}catch(n){}return e}();function Mn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Un(e,t){if(Mn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Sn){e:{try{kn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fn[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Un.Z.h.call(this)}}Mn.prototype.h=function(){this.defaultPrevented=!0},en(Un,Mn);var Fn={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),zn=0;function Bn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++zn,this.ca=this.fa=!1}function qn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hn(e){this.src=e,this.g={},this.h=0}function Wn(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=rn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(qn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kn(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Hn.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Kn(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Bn(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Gn="closure_lm_"+(1e6*Math.random()|0),Qn={};function Xn(e,t,n,r,i){if(r&&r.once)return Yn(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xn(e,t[a],n,r,i);return null}return n=ir(n),e&&e[Vn]?e.N(t,n,Gt(r)?!!r.capture:!!r,i):$n(e,t,n,!1,r,i)}function $n(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Gt(i)?!!i.capture:!!i,s=nr(e);if(s||(e[Gn]=s=new Hn(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=tr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(er(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Yn(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Yn(e,t[a],n,r,i);return null}return n=ir(n),e&&e[Vn]?e.O(t,n,Gt(r)?!!r.capture:!!r,i):$n(e,t,n,!0,r,i)}function Jn(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Jn(e,t[a],n,r,i);else r=Gt(r)?!!r.capture:!!r,n=ir(n),e&&e[Vn]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kn(a=e.g[t],n,r,i))&&(qn(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=nr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kn(t,n,r,i)),(n=-1<e?t[e]:null)&&Zn(n))}function Zn(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Vn])Wn(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(er(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nr(t))?(Wn(n,e),0==n.h&&(n.src=null,t[Gn]=null)):qn(e)}}}function er(e){return e in Qn?Qn[e]:Qn[e]="on"+e}function tr(e,t){if(e.ca)e=!0;else{t=new Un(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zn(e),e=n.call(r,t)}return e}function nr(e){return(e=e[Gn])instanceof Hn?e:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ir(e){return"function"===typeof e?e:(e[rr]||(e[rr]=function(t){return e.handleEvent(t)}),e[rr])}function ar(){tn.call(this),this.i=new Hn(this),this.P=this,this.I=null}function or(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Mn(t,e);else if(t instanceof Mn)t.target=t.target||e;else{var i=t;yn(t=new Mn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=sr(o,r,!0,t)&&i}if(i=sr(o=t.g=e,r,!0,t)&&i,i=sr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=sr(o=t.g=n[a],r,!1,t)&&i}function sr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Wn(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}en(ar,tn),ar.prototype[Vn]=!0,ar.prototype.removeEventListener=function(e,t,n,r){Jn(this,e,t,n,r)},ar.prototype.M=function(){if(ar.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qn(n[r]);delete t.g[e],t.h--}}this.I=null},ar.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ar.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ur=Ht.JSON.stringify;function cr(){var e=gr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lr,fr=function(){function e(){je(this,e),this.h=this.g=null}return Ue(e,[{key:"add",value:function(e,t){var n=hr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hr=new(function(){function e(t,n){je(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ue(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new dr}),(function(e){return e.reset()})),dr=function(){function e(){je(this,e),this.next=this.g=this.h=null}return Ue(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function pr(e){Ht.setTimeout((function(){throw e}),0)}function vr(e,t){lr||function(){var e=Ht.Promise.resolve(void 0);lr=function(){e.then(yr)}}(),mr||(lr(),mr=!0),gr.add(e,t)}var mr=!1,gr=new fr;function yr(){for(var e;e=cr();){try{e.h.call(e.g)}catch(n){pr(n)}var t=hr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mr=!1}function kr(e,t){ar.call(this),this.h=e||1,this.g=t||Ht,this.j=Jt(this.kb,this),this.l=Date.now()}function wr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function br(e,t,n){if("function"===typeof e)n&&(e=Jt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Jt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ht.setTimeout(e,t||0)}function xr(e){e.g=br((function(){e.g=null,e.i&&(e.i=!1,xr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}en(kr,ar),(Vt=kr.prototype).da=!1,Vt.S=null,Vt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),or(this,"tick"),this.da&&(wr(this),this.start()))}},Vt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Vt.M=function(){kr.Z.M.call(this),wr(this),delete this.g};var _r=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ue(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xr(this)}},{key:"M",value:function(){Ne(Ie(n.prototype),"M",this).call(this),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(tn);function Er(e){tn.call(this),this.h=e,this.g={}}en(Er,tn);var Sr=[];function Tr(e,t,n,r){Array.isArray(n)||(n&&(Sr[0]=n.toString()),n=Sr);for(var i=0;i<n.length;i++){var a=Xn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ir(e){vn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zn(e)}),e),e.g={}}function Cr(){this.g=!0}function Nr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ur(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Er.prototype.M=function(){Er.Z.M.call(this),Ir(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cr.prototype.Aa=function(){this.g=!1},Cr.prototype.info=function(){};var Rr={},Ar=null;function Pr(){return Ar=Ar||new ar}function Or(e){Mn.call(this,Rr.Ma,e)}function Lr(e){var t=Pr();or(t,new Or(t,e))}function Dr(e,t){Mn.call(this,Rr.STAT_EVENT,e),this.stat=t}function jr(e){var t=Pr();or(t,new Dr(t,e))}function Mr(e,t){Mn.call(this,Rr.Na,e),this.size=t}function Ur(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ht.setTimeout((function(){e()}),t)}Rr.Ma="serverreachability",en(Or,Mn),Rr.STAT_EVENT="statevent",en(Dr,Mn),Rr.Na="timingevent",en(Mr,Mn);var Fr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zr(){}function Br(e){return e.h||(e.h=e.i())}function qr(){}zr.prototype.h=null;var Hr,Wr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Kr(){Mn.call(this,"d")}function Gr(){Mn.call(this,"c")}function Qr(){}function Xr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Er(this),this.P=Yr,e=En?125:void 0,this.W=new kr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}en(Kr,Mn),en(Gr,Mn),en(Qr,zr),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},Hr=new Qr;var Yr=45e3,Jr={},Zr={};function ei(e,t,n){e.K=1,e.v=_i(gi(t)),e.s=n,e.U=!0,ti(e,null)}function ti(e,t){e.F=Date.now(),ai(e),e.A=gi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ji(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $r,e.g=Ua(e.l,n?t:null,!e.s),0<e.O&&(e.L=new _r(Jt(e.Ia,e,e.g),e.O)),Tr(e.V,e.g,"readystatechange",e.gb),t=e.H?mn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Lr(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ni(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ri(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ii(e,n))==Zr){4==t&&(e.o=4,jr(14),i=!1),Nr(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jr){e.o=4,jr(15),Nr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Nr(e.j,e.m,r,null),li(e,r)}ni(e)&&r!=Zr&&r!=Jr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,jr(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ra(t),t.L=!0,jr(11))):(Nr(e.j,e.m,n,"[Invalid Chunked Response]"),ci(e),ui(e))}function ii(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zr:(n=Number(t.substring(n,r)),isNaN(n)?Jr:(r+=1)+n>t.length?Zr:(t=t.substr(r,n),e.C=r+n,t))}function ai(e){e.Y=Date.now()+e.P,oi(e,e.P)}function oi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ur(Jt(e.eb,e),t)}function si(e){e.B&&(Ht.clearTimeout(e.B),e.B=null)}function ui(e){0==e.l.G||e.I||Oa(e.l,e)}function ci(e){si(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,wr(e.W),Ir(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function li(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hi(n.i,e)))if(n.I=e.N,!e.J&&Hi(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pa(n),ba(n)}Na(n),jr(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ur(Jt(n.ab,n),6e3));if(1>=qi(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Da(n,11)}else if((e.J||n.g==e)&&Pa(n),!un(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(fn(l,"spdy")||fn(l,"quic")||fn(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Wi(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,xi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ma(r,r.H?r.la:null,r.W),d.J){Ki(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(si(p),ai(p)),r.g=d}else Ca(r);0<n.l.length&&Ea(n)}else"stop"!=a[0]&&"close"!=a[0]||Da(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Da(n,7):wa(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Lr(4)}catch(a){}}function fi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Kt(e)||"string"===typeof e)an(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Kt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Kt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function hi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function di(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];pi(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)pi(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function pi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Vt=Xr.prototype).setTimeout=function(e){this.P=e},Vt.gb=function(e){e=e.target;var t=this.L;t&&3==va(e)?t.l():this.Ia(e)},Vt.Ia=function(e){try{if(e==this.g)e:{var t=va(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||En||this.g&&(this.h.h||this.g.ga()||ma(this.g)))){this.I||4!=t||7==n||Lr(8==n||0>=r?3:2),si(this);var i=this.g.ba();this.N=i;t:if(ni(this)){var a=ma(this.g);e="";var o=a.length,s=4==va(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ci(this),ui(this);var u="";break t}this.h.i=new Ht.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!un(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,jr(12),ci(this),ui(this);break e}Nr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,li(this,i)}this.U?(ri(this,t,u),En&&this.i&&3==t&&(Tr(this.V,this.W,"tick",this.fb),this.W.start())):(Nr(this.j,this.m,u,null),li(this,u)),4==t&&ci(this),this.i&&!this.I&&(4==t?Oa(this.l,this):(this.i=!1,ai(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),ci(this),ui(this)}}}catch(t){}},Vt.fb=function(){if(this.g){var e=va(this.g),t=this.g.ga();this.C<t.length&&(si(this),ri(this,e,t),this.i&&4!=e&&ai(this))}},Vt.cancel=function(){this.I=!0,ci(this)},Vt.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Lr(3),jr(17)),ci(this),this.o=2,ui(this)):oi(this,this.Y-e)},(Vt=hi.prototype).R=function(){di(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Vt.T=function(){return di(this),this.g.concat()},Vt.get=function(e,t){return pi(this.h,e)?this.h[e]:t},Vt.set=function(e,t){pi(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Vt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var vi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof mi){this.g=void 0!==t?t:e.g,yi(this,e.j),this.s=e.s,ki(this,e.i),wi(this,e.m),this.l=e.l,t=e.h;var n=new Pi;n.i=t.i,t.g&&(n.g=new hi(t.g),n.h=t.h),bi(this,n),this.o=e.o}else e&&(n=String(e).match(vi))?(this.g=!!t,yi(this,n[1]||"",!0),this.s=Ei(n[2]||""),ki(this,n[3]||"",!0),wi(this,n[4]),this.l=Ei(n[5]||"",!0),bi(this,n[6]||"",!0),this.o=Ei(n[7]||"")):(this.g=!!t,this.h=new Pi(null,this.g))}function gi(e){return new mi(e)}function yi(e,t,n){e.j=n?Ei(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ki(e,t,n){e.i=n?Ei(t,!0):t}function wi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function bi(e,t,n){t instanceof Pi?(e.h=t,function(e,t){t&&!e.j&&(Oi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Li(this,t),ji(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Si(t,Ri)),e.h=new Pi(t,e.g))}function xi(e,t,n){e.h.set(t,n)}function _i(e){return xi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ei(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Si(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ti),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ti(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}mi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Si(t,Ii,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Si(t,Ii,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Si(n,"/"==n.charAt(0)?Ni:Ci,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Si(n,Ai)),e.join("")};var Ii=/[#\/\?@]/g,Ci=/[#\?:]/g,Ni=/[#\?]/g,Ri=/[#\?@]/g,Ai=/#/g;function Pi(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Oi(e){e.g||(e.g=new hi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Li(e,t){Oi(e),t=Mi(e,t),pi(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,pi((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&di(e)))}function Di(e,t){return Oi(e),t=Mi(e,t),pi(e.g.h,t)}function ji(e,t,n){Li(e,t),0<n.length&&(e.i=null,e.g.set(Mi(e,t),sn(n)),e.h+=n.length)}function Mi(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Vt=Pi.prototype).add=function(e,t){Oi(this),this.i=null,e=Mi(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Vt.forEach=function(e,t){Oi(this),this.g.forEach((function(n,r){an(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Vt.T=function(){Oi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Vt.R=function(e){Oi(this);var t=[];if("string"===typeof e)Di(this,e)&&(t=on(t,this.g.get(Mi(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=on(t,e[n])}return t},Vt.set=function(e,t){return Oi(this),this.i=null,Di(this,e=Mi(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Vt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Vt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ui=Ue((function e(t,n){je(this,e),this.h=t,this.g=n}));function Fi(e){this.l=e||zi,Ht.PerformanceNavigationTiming?e=0<(e=Ht.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ht.g&&Ht.g.Ea&&Ht.g.Ea()&&Ht.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vi,zi=10;function Bi(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qi(e){return e.h?1:e.g?e.g.size:0}function Hi(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wi(e,t){e.g?e.g.add(t):e.h=t}function Ki(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gi(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Re(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return sn(e.i)}function Qi(){}function Xi(){this.g=new Qi}function $i(e,t,n){var r=n||"";try{fi(e,(function(e,n){var i=e;Gt(e)&&(i=ur(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ji(e){this.l=e.$b||null,this.j=e.ib||!1}function Zi(e,t){ar.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ea,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fi.prototype.cancel=function(){if(this.i=Gi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Re(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Qi.prototype.stringify=function(e){return Ht.JSON.stringify(e,void 0)},Qi.prototype.parse=function(e){return Ht.JSON.parse(e,void 0)},en(Ji,zr),Ji.prototype.g=function(){return new Zi(this.l,this.j)},Ji.prototype.i=(Vi={},function(){return Vi}),en(Zi,ar);var ea=0;function ta(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function na(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ra(e)}function ra(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Vt=Zi.prototype).open=function(e,t){if(this.readyState!=ea)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ra(this)},Vt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ht).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Vt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,na(this)),this.readyState=ea},Vt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ht.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ta(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Vt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?na(this):ra(this),3==this.readyState&&ta(this)}},Vt.Ua=function(e){this.g&&(this.response=this.responseText=e,na(this))},Vt.Ta=function(e){this.g&&(this.response=e,na(this))},Vt.ha=function(){this.g&&na(this)},Vt.setRequestHeader=function(e,t){this.v.append(e,t)},Vt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Vt.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ia=Ht.JSON.parse;function aa(e){ar.call(this),this.headers=new hi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oa,this.K=this.L=!1}en(aa,ar);var oa="",sa=/^https?$/i,ua=["POST","PUT"];function ca(e){return"content-type"==e.toLowerCase()}function la(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fa(e),da(e)}function fa(e){e.D||(e.D=!0,or(e,"complete"),or(e,"error"))}function ha(e){if(e.h&&"undefined"!=typeof qt&&(!e.C[1]||4!=va(e)||2!=e.ba()))if(e.v&&4==va(e))br(e.Fa,0,e);else if(or(e,"readystatechange"),4==va(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(vi)[1]||null;if(!a&&Ht.self&&Ht.self.location){var o=Ht.self.location.protocol;a=o.substr(0,o.length-1)}i=!sa.test(a?a.toLowerCase():"")}t=i}if(t)or(e,"complete"),or(e,"success");else{e.m=6;try{var s=2<va(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",fa(e)}}finally{da(e)}}}function da(e,t){if(e.g){pa(e);var n=e.g,r=e.C[0]?Wt:null;e.g=null,e.C=null,t||or(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function pa(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ht.clearTimeout(e.A),e.A=null)}function va(e){return e.g?e.g.readyState:0}function ma(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case oa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ga(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return vn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xi(e,t,n))}function ya(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ka(e){this.za=0,this.l=[],this.h=new Cr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ya("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ya("baseRetryDelayMs",5e3,e),this.$a=ya("retryDelaySeedMs",1e4,e),this.Ya=ya("forwardChannelMaxRetries",2,e),this.ra=ya("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Fi(e&&e.concurrentRequestLimit),this.Ca=new Xi,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function wa(e){if(xa(e),3==e.G){var t=e.V++,n=gi(e.F);xi(n,"SID",e.J),xi(n,"RID",t),xi(n,"TYPE","terminate"),Ta(e,n),(t=new Xr(e,e.h,t,void 0)).K=2,t.v=_i(gi(n)),n=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(n=Ht.navigator.sendBeacon(t.v.toString(),"")),!n&&Ht.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ua(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ai(t)}ja(e)}function ba(e){e.g&&(Ra(e),e.g.cancel(),e.g=null)}function xa(e){ba(e),e.u&&(Ht.clearTimeout(e.u),e.u=null),Pa(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ht.clearTimeout(e.m),e.m=null)}function _a(e,t){e.l.push(new Ui(e.Za++,t)),3==e.G&&Ea(e)}function Ea(e){Bi(e.i)||e.m||(e.m=!0,vr(e.Ha,e),e.C=0)}function Sa(e,t){var n;n=t?t.m:e.V++;var r=gi(e.F);xi(r,"SID",e.J),xi(r,"RID",n),xi(r,"AID",e.U),Ta(e,r),e.o&&e.s&&ga(r,e.o,e.s),n=new Xr(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ia(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wi(e.i,n),ei(n,r,t)}function Ta(e,t){e.j&&fi({},(function(e,n){xi(t,n,e)}))}function Ia(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Jt(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{$i(l,o,"req"+c+"_")}catch(mo){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ca(e){e.g||e.u||(e.Y=1,vr(e.Ga,e),e.A=0)}function Na(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ur(Jt(e.Ga,e),La(e,e.A)),e.A++,!0)}function Ra(e){null!=e.B&&(Ht.clearTimeout(e.B),e.B=null)}function Aa(e){e.g=new Xr(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=gi(e.oa);xi(t,"RID","rpc"),xi(t,"SID",e.J),xi(t,"CI",e.N?"0":"1"),xi(t,"AID",e.U),Ta(e,t),xi(t,"TYPE","xmlhttp"),e.o&&e.s&&ga(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_i(gi(t)),n.s=null,n.U=!0,ti(n,e)}function Pa(e){null!=e.v&&(Ht.clearTimeout(e.v),e.v=null)}function Oa(e,t){var n=null;if(e.g==t){Pa(e),Ra(e),e.g=null;var r=2}else{if(!Hi(e.i,t))return;n=t.D,Ki(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;or(r=Pr(),new Mr(r,n,t,i)),Ea(e)}else Ca(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(qi(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ur(Jt(e.Ha,e,t),La(e,e.C)),e.C++,!0))}(e,t)||2==r&&Na(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Da(e,5);break;case 4:Da(e,10);break;case 3:Da(e,6);break;default:Da(e,2)}}function La(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Da(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Jt(e.jb,e);n||(n=new mi("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||yi(n,"https"),_i(n)),function(e,t){var n=new Cr;if(Ht.Image){var r=new Image;r.onload=Zt(Yi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Zt(Yi,n,r,"TestLoadImage: error",!1,t),r.onabort=Zt(Yi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Zt(Yi,n,r,"TestLoadImage: timeout",!1,t),Ht.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else jr(2);e.G=0,e.j&&e.j.va(t),ja(e),xa(e)}function ja(e){e.G=0,e.I=-1,e.j&&(0==Gi(e.i).length&&0==e.l.length||(e.i.i.length=0,sn(e.l),e.l.length=0),e.j.ua())}function Ma(e,t,n){var r=function(e){return e instanceof mi?gi(e):new mi(e,void 0)}(n);if(""!=r.i)t&&ki(r,t+"."+r.i),wi(r,r.m);else{var i=Ht.location;r=function(e,t,n,r){var i=new mi(null,void 0);return e&&yi(i,e),t&&ki(i,t),n&&wi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&vn(e.aa,(function(e,t){xi(r,t,e)})),t=e.D,n=e.sa,t&&n&&xi(r,t,n),xi(r,"VER",e.ma),Ta(e,r),r}function Ua(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new aa(new Ji({ib:!0})):new aa(e.qa)).L=e.H,t}function Fa(){}function Va(){if(xn&&!(10<=Number(Dn)))throw Error("Environmental error: no available transport.")}function za(e,t){ar.call(this),this.g=new ka(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!un(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!un(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ha(this)}function Ba(e){Kr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qa(){Gr.call(this),this.status=1}function Ha(e){this.g=e}(Vt=aa.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hr.g(),this.C=this.u?Br(this.u):Br(Hr),this.g.onreadystatechange=Jt(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void la(this,a)}e=n||"";var i=new hi(this.headers);r&&fi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ca,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ht.FormData&&e instanceof Ht.FormData,!(0<=rn(ua,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pa(this),0<this.B&&((this.K=function(e){return xn&&On()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jt(this.pa,this)):this.A=br(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){la(this,a)}},Vt.pa=function(){"undefined"!=typeof qt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,or(this,"timeout"),this.abort(8))},Vt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,or(this,"complete"),or(this,"abort"),da(this))},Vt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),da(this,!0)),aa.Z.M.call(this)},Vt.Fa=function(){this.s||(this.F||this.v||this.l?ha(this):this.cb())},Vt.cb=function(){ha(this)},Vt.ba=function(){try{return 2<va(this)?this.g.status:-1}catch(Vi){return-1}},Vt.ga=function(){try{return this.g?this.g.responseText:""}catch(Vi){return""}},Vt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ia(t)}},Vt.Da=function(){return this.m},Vt.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Vt=ka.prototype).ma=8,Vt.G=1,Vt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Vt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Xr(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yn(n=mn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ia(this,t,r),xi(i=gi(this.F),"RID",e),xi(i,"CVER",22),this.D&&xi(i,"X-HTTP-Session-Id",this.D),Ta(this,i),this.o&&n&&ga(i,this.o,n),Wi(this.i,t),this.Ra&&xi(i,"TYPE","init"),this.ja?(xi(i,"$req",r),xi(i,"SID","null"),t.$=!0,ei(t,i,null)):ei(t,i,r),this.G=2}}else 3==this.G&&(e?Sa(this,e):0==this.l.length||Bi(this.i)||Sa(this))},Vt.Ga=function(){if(this.u=null,Aa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ur(Jt(this.bb,this),e)}},Vt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jr(10),ba(this),Aa(this))},Vt.ab=function(){null!=this.v&&(this.v=null,ba(this),Na(this),jr(19))},Vt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),jr(2)):(this.h.info("Failed to ping google.com"),jr(1))},(Vt=Fa.prototype).xa=function(){},Vt.wa=function(){},Vt.va=function(){},Vt.ua=function(){},Vt.Oa=function(){},Va.prototype.g=function(e,t){return new za(e,t)},en(za,ar),za.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),vr(Jt(e.hb,e,t))),jr(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ma(e,null,e.W),Ea(e)},za.prototype.close=function(){wa(this.g)},za.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,_a(this.g,t)}else this.v?((t={}).__data__=ur(e),_a(this.g,t)):_a(this.g,e)},za.prototype.M=function(){this.g.j=null,delete this.j,wa(this.g),delete this.g,za.Z.M.call(this)},en(Ba,Kr),en(qa,Gr),en(Ha,Fa),Ha.prototype.xa=function(){or(this.g,"a")},Ha.prototype.wa=function(e){or(this.g,new Ba(e))},Ha.prototype.va=function(e){or(this.g,new qa(e))},Ha.prototype.ua=function(){or(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,za.prototype.send=za.prototype.u,za.prototype.open=za.prototype.m,za.prototype.close=za.prototype.close,Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,Vr.COMPLETE="complete",qr.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",ar.prototype.listen=ar.prototype.N,aa.prototype.listenOnce=aa.prototype.O,aa.prototype.getLastError=aa.prototype.La,aa.prototype.getLastErrorCode=aa.prototype.Da,aa.prototype.getStatus=aa.prototype.ba,aa.prototype.getResponseJson=aa.prototype.Qa,aa.prototype.getResponseText=aa.prototype.ga,aa.prototype.send=aa.prototype.ea;var Wa=Bt.createWebChannelTransport=function(){return new Va},Ka=Bt.getStatEventTarget=function(){return Pr()},Ga=Bt.ErrorCode=Fr,Qa=Bt.EventType=Vr,Xa=Bt.Event=Rr,$a=Bt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ya=Bt.FetchXmlHttpFactory=Ji,Ja=Bt.WebChannel=qr,Za=Bt.XhrIo=aa,eo="@firebase/firestore",to=function(){function e(t){je(this,e),this.uid=t}return Ue(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();to.UNAUTHENTICATED=new to(null),to.GOOGLE_CREDENTIALS=new to("google-credentials-uid"),to.FIRST_PARTY=new to("first-party-uid"),to.MOCK_USER=new to("mock-user");var no="9.6.5",ro=new bt("@firebase/firestore");function io(){return ro.logLevel}function ao(e){if(ro.logLevel<=ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uo);ro.debug.apply(ro,["Firestore (".concat(no,"): ").concat(e)].concat(J(i)))}}function oo(e){if(ro.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uo);ro.error.apply(ro,["Firestore (".concat(no,"): ").concat(e)].concat(J(i)))}}function so(e){if(ro.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(uo);ro.warn.apply(ro,["Firestore (".concat(no,"): ").concat(e)].concat(J(i)))}}function uo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(no,") INTERNAL ASSERTION FAILED: ")+e;throw oo(t),new Error(t)}function lo(e,t){e||co()}function fo(e,t){return e}var ho={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},po=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ue(n)}($e),vo=Ue((function e(){var t=this;je(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),mo=Ue((function e(t,n){je(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),go=function(){function e(){je(this,e)}return Ue(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(to.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),yo=function(){function e(t){je(this,e),this.t=t,this.currentUser=to.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ue(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new vo;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new vo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){ao("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(ao("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vo)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ao("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lo("string"==typeof n.accessToken),new mo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lo(null===e||"string"==typeof e),new to(e)}}]),e}(),ko=Ue((function e(t,n,r){je(this,e),this.type="FirstParty",this.user=to.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),wo=function(){function e(t,n,r){je(this,e),this.h=t,this.l=n,this.m=r}return Ue(e,[{key:"getToken",value:function(){return Promise.resolve(new ko(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(to.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),bo=Ue((function e(t){je(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xo=function(){function e(t){je(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Ue(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&ao("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){ao("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):ao("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(lo("string"==typeof e.token),new bo(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),_o=function(){function e(t,n){var r=this;je(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ue(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Eo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}_o.I=-1;var So=function(){function e(){je(this,e)}return Ue(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Eo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function To(e,t){return e<t?-1:e>t?1:0}function Io(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Co=function(){function e(t,n){if(je(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new po(ho.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new po(ho.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new po(ho.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new po(ho.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ue(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?To(this.nanoseconds,e.nanoseconds):To(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),No=function(){function e(t){je(this,e),this.timestamp=t}return Ue(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Co(0,0))}}]),e}();function Ro(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ao(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Po(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Oo=function(){function e(t,n,r){je(this,e),void 0===n?n=0:n>t.length&&co(),void 0===r?r=t.length-n:r>t.length-n&&co(),this.segments=t,this.offset=n,this.len=r}return Ue(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Lo=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new po(ho.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,J(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oo),Do=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jo=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Do.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new po(ho.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new po(ho.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new po(ho.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new po(ho.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Oo),Mo=function(){function e(t){je(this,e),this.fields=t,t.sort(jo.comparator)}return Ue(e,[{key:"covers",value:function(e){var t,n=Re(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Io(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Uo=function(e){function t(e){je(this,t),this.binaryString=e}return Ue(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return To(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Uo.EMPTY_BYTE_STRING=new Uo("");var Fo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(e){if(lo(!!e),"string"==typeof e){var t=0,n=Fo.exec(e);if(lo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zo(e.seconds),nanos:zo(e.nanos)}}function zo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bo(e){return"string"==typeof e?Uo.fromBase64String(e):Uo.fromUint8Array(e)}function qo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ho(e){var t=e.mapValue.fields.__previous_value__;return qo(t)?Ho(t):t}function Wo(e){var t=Vo(e.mapValue.fields.__local_write_time__.timestampValue);return new Co(t.seconds,t.nanos)}function Ko(e){return null==e}function Go(e){return 0===e&&1/e==-1/0}function Qo(e){return"number"==typeof e&&Number.isInteger(e)&&!Go(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xo=function(){function e(t){je(this,e),this.path=t}return Ue(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Lo.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Lo.fromString(t))}},{key:"fromName",value:function(t){return new e(Lo.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Lo.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Lo(t.slice()))}}]),e}();function $o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qo(e)?4:10:co()}function Yo(e,t){if(e===t)return!0;var n=$o(e);if(n!==$o(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Wo(e).isEqual(Wo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Vo(e.timestampValue),r=Vo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bo(e.bytesValue).isEqual(Bo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return zo(e.geoPointValue.latitude)===zo(t.geoPointValue.latitude)&&zo(e.geoPointValue.longitude)===zo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return zo(e.integerValue)===zo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=zo(e.doubleValue),r=zo(t.doubleValue);return n===r?Go(n)===Go(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Io(e.arrayValue.values||[],t.arrayValue.values||[],Yo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ro(n)!==Ro(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Yo(n[i],r[i])))return!1;return!0}(e,t);default:return co()}}function Jo(e,t){return void 0!==(e.values||[]).find((function(e){return Yo(e,t)}))}function Zo(e,t){if(e===t)return 0;var n=$o(e),r=$o(t);if(n!==r)return To(n,r);switch(n){case 0:return 0;case 1:return To(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=zo(e.integerValue||e.doubleValue),r=zo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return es(e.timestampValue,t.timestampValue);case 4:return es(Wo(e),Wo(t));case 5:return To(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Bo(e),r=Bo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=To(n[i],r[i]);if(0!==a)return a}return To(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=To(zo(e.latitude),zo(t.latitude));return 0!==n?n:To(zo(e.longitude),zo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Zo(n[i],r[i]);if(a)return a}return To(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=To(r[o],a[o]);if(0!==s)return s;var u=Zo(n[r[o]],i[a[o]]);if(0!==u)return u}return To(r.length,a.length)}(e.mapValue,t.mapValue);default:throw co()}}function es(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return To(e,t);var n=Vo(e),r=Vo(t),i=To(n.seconds,r.seconds);return 0!==i?i:To(n.nanos,r.nanos)}function ts(e){return ns(e)}function ns(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Vo(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xo.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Re(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ns(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Re(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ns(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):co();var t,n}function rs(e){return!!e&&"integerValue"in e}function is(e){return!!e&&"arrayValue"in e}function as(e){return!!e&&"nullValue"in e}function os(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ss(e){return!!e&&"mapValue"in e}function us(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ao(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=us(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=us(e.arrayValue.values[r]);return n}return Object.assign({},e)}var cs=function(){function e(t){je(this,e),this.value=t}return Ue(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ss(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=us(t)}},{key:"setAll",value:function(e){var t=this,n=jo.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=us(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ss(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Yo(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ss(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ao(t,(function(t,n){return e[t]=n}));var r,i=Re(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(us(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ls(e){var t=[];return Ao(e.fields,(function(e,n){var r=new jo([e]);if(ss(n)){var i=ls(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Re(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Mo(t)}var fs=function(){function e(t,n,r,i,a){je(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Ue(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,No.min(),cs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,cs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,cs.empty(),2)}}]),e}(),hs=Ue((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;je(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new hs(e,t,n,r,i,a,o)}function ps(e){var t=fo(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ts(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ko(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Is(t.startAt)),t.endAt&&(n+="|ub:",n+=Is(t.endAt)),t.R=n}return t.R}function vs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ns(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Yo(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!As(e.startAt,t.startAt)&&As(e.endAt,t.endAt)}function ms(e){return Xo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var gs=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a;return je(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ue(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Zo(t,this.value)):null!==t&&$o(this.value)===$o(t)&&this.v(Zo(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return co()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new ys(e,t,r):"array-contains"===t?new xs(e,r):"in"===t?new _s(e,r):"not-in"===t?new Es(e,r):"array-contains-any"===t?new Ss(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new ks(e,n):new ws(e,n)}}]),n}(function(){return Ue((function e(){je(this,e)}))}());var ys=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a;return je(this,n),(a=t.call(this,e,r,i)).key=Xo.fromName(i.referenceValue),a}return Ue(n,[{key:"matches",value:function(e){var t=Xo.comparator(e.key,this.key);return this.v(t)}}]),n}(gs),ks=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this,e,"in",r)).keys=bs("in",r),i}return Ue(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gs),ws=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this,e,"not-in",r)).keys=bs("not-in",r),i}return Ue(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gs);function bs(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xo.fromName(e.referenceValue)}))}var xs=function(e){Ae(n,e);var t=De(n);function n(e,r){return je(this,n),t.call(this,e,"array-contains",r)}return Ue(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return is(t)&&Jo(t.arrayValue,this.value)}}]),n}(gs),_s=function(e){Ae(n,e);var t=De(n);function n(e,r){return je(this,n),t.call(this,e,"in",r)}return Ue(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Jo(this.value.arrayValue,t)}}]),n}(gs),Es=function(e){Ae(n,e);var t=De(n);function n(e,r){return je(this,n),t.call(this,e,"not-in",r)}return Ue(n,[{key:"matches",value:function(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Jo(this.value.arrayValue,t)}}]),n}(gs),Ss=function(e){Ae(n,e);var t=De(n);function n(e,r){return je(this,n),t.call(this,e,"array-contains-any",r)}return Ue(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!is(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Jo(t.value.arrayValue,e)}))}}]),n}(gs),Ts=Ue((function e(t,n){je(this,e),this.position=t,this.before=n}));function Is(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return ts(e)})).join(","))}var Cs=Ue((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";je(this,e),this.field=t,this.dir=n}));function Ns(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Rs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xo.comparator(Xo.fromName(o.referenceValue),n.key):Zo(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function As(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Yo(e.position[n],t.position[n]))return!1;return!0}var Ps=Ue((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;je(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Os(e,t,n,r,i,a,o,s){return new Ps(e,t,n,r,i,a,o,s)}function Ls(e){return new Ps(e)}function Ds(e){return!Ko(e.limit)&&"F"===e.limitType}function js(e){return!Ko(e.limit)&&"L"===e.limitType}function Ms(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Us(e){var t,n=Re(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Fs(e){return null!==e.collectionGroup}function Vs(e){var t=fo(e);if(null===t.S){t.S=[];var n=Us(t),r=Ms(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Cs(n)),t.S.push(new Cs(jo.keyField(),"asc"));else{var i,a=!1,o=Re(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Cs(jo.keyField(),u))}}}return t.S}function zs(e){var t=fo(e);if(!t.D)if("F"===t.limitType)t.D=ds(t.path,t.collectionGroup,Vs(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Re(Vs(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Cs(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Ts(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ts(t.startAt.position,!t.startAt.before):null;t.D=ds(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Bs(e,t,n){return new Ps(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qs(e,t){return vs(zs(e),zs(t))&&e.limitType===t.limitType}function Hs(e){return"".concat(ps(zs(e)),"|lt:").concat(e.limitType)}function Ws(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ts(t.value));var t})).join(", "),"]")),Ko(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Is(e.startAt)),e.endAt&&(t+=", endAt: "+Is(e.endAt)),"Target(".concat(t,")")}(zs(e)),"; limitType=").concat(e.limitType,")")}function Ks(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Re(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Re(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Rs(e.startAt,Vs(e),t))&&(!e.endAt||!Rs(e.endAt,Vs(e),t))}(e,t)}function Gs(e){return function(t,n){var r,i=!1,a=Re(Vs(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Qs(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Qs(e,t,n){var r=e.field.isKeyField()?Xo.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Zo(r,i):co()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return co()}}function Xs(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(t)?"-0":t}}function $s(e){return{integerValue:""+e}}function Ys(e,t){return Qo(t)?$s(t):Xs(e,t)}var Js=Ue((function e(){je(this,e),this._=void 0}));function Zs(e,t,n){return e instanceof nu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ru?iu(e,t):e instanceof au?ou(e,t):function(e,t){var n=tu(e,t),r=uu(n)+uu(e.N);return rs(n)&&rs(e.N)?$s(r):Xs(e.k,r)}(e,t)}function eu(e,t,n){return e instanceof ru?iu(e,t):e instanceof au?ou(e,t):n}function tu(e,t){return e instanceof su?rs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var nu=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n)}(Js),ru=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this)).elements=e,r}return Ue(n)}(Js);function iu(e,t){var n,r=cu(t),i=Re(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Yo(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var au=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this)).elements=e,r}return Ue(n)}(Js);function ou(e,t){var n,r=cu(t),i=Re(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Yo(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var su=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this)).k=e,i.N=r,i}return Ue(n)}(Js);function uu(e){return zo(e.integerValue||e.doubleValue)}function cu(e){return is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var lu=Ue((function e(t,n){je(this,e),this.field=t,this.transform=n}));var fu=Ue((function e(t,n){je(this,e),this.version=t,this.transformResults=n})),hu=function(){function e(t,n){je(this,e),this.updateTime=t,this.exists=n}return Ue(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function du(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pu=Ue((function e(){je(this,e)}));function vu(e,t,n){e instanceof wu?function(e,t,n){var r=e.value.clone(),i=_u(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bu?function(e,t,n){if(du(e.precondition,t)){var r=_u(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mu(e,t,n){e instanceof wu?function(e,t,n){if(du(e.precondition,t)){var r=e.value.clone(),i=Eu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(ku(t),r).setHasLocalMutations()}}(e,t,n):e instanceof bu?function(e,t,n){if(du(e.precondition,t)){var r=Eu(e.fieldTransforms,n,t),i=t.data;i.setAll(xu(e)),i.setAll(r),t.convertToFoundDocument(ku(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){du(e.precondition,t)&&t.convertToNoDocument(No.min())}(e,t)}function gu(e,t){var n,r=null,i=Re(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=tu(a.transform,o||null);null!=s&&(null==r&&(r=cs.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function yu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Io(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ru&&t instanceof ru||e instanceof au&&t instanceof au?Io(e.elements,t.elements,Yo):e instanceof su&&t instanceof su?Yo(e.N,t.N):e instanceof nu&&t instanceof nu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function ku(e){return e.isFoundDocument()?e.version:No.min()}var wu=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return je(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ue(n)}(pu),bu=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return je(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Ue(n)}(pu);function xu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _u(e,t,n){var r=new Map;lo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,eu(o,s,n[i]))}return r}function Eu(e,t,n){var r,i=new Map,a=Re(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Zs(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Su,Tu,Iu=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ue(n)}(pu),Cu=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ue(n)}(pu),Nu=Ue((function e(t){je(this,e),this.count=t}));function Ru(e){switch(e){default:return co();case ho.CANCELLED:case ho.UNKNOWN:case ho.DEADLINE_EXCEEDED:case ho.RESOURCE_EXHAUSTED:case ho.INTERNAL:case ho.UNAVAILABLE:case ho.UNAUTHENTICATED:return!1;case ho.INVALID_ARGUMENT:case ho.NOT_FOUND:case ho.ALREADY_EXISTS:case ho.PERMISSION_DENIED:case ho.FAILED_PRECONDITION:case ho.ABORTED:case ho.OUT_OF_RANGE:case ho.UNIMPLEMENTED:case ho.DATA_LOSS:return!0}}function Au(e){if(void 0===e)return oo("GRPC error has no .code"),ho.UNKNOWN;switch(e){case Su.OK:return ho.OK;case Su.CANCELLED:return ho.CANCELLED;case Su.UNKNOWN:return ho.UNKNOWN;case Su.DEADLINE_EXCEEDED:return ho.DEADLINE_EXCEEDED;case Su.RESOURCE_EXHAUSTED:return ho.RESOURCE_EXHAUSTED;case Su.INTERNAL:return ho.INTERNAL;case Su.UNAVAILABLE:return ho.UNAVAILABLE;case Su.UNAUTHENTICATED:return ho.UNAUTHENTICATED;case Su.INVALID_ARGUMENT:return ho.INVALID_ARGUMENT;case Su.NOT_FOUND:return ho.NOT_FOUND;case Su.ALREADY_EXISTS:return ho.ALREADY_EXISTS;case Su.PERMISSION_DENIED:return ho.PERMISSION_DENIED;case Su.FAILED_PRECONDITION:return ho.FAILED_PRECONDITION;case Su.ABORTED:return ho.ABORTED;case Su.OUT_OF_RANGE:return ho.OUT_OF_RANGE;case Su.UNIMPLEMENTED:return ho.UNIMPLEMENTED;case Su.DATA_LOSS:return ho.DATA_LOSS;default:return co()}}(Tu=Su||(Su={}))[Tu.OK=0]="OK",Tu[Tu.CANCELLED=1]="CANCELLED",Tu[Tu.UNKNOWN=2]="UNKNOWN",Tu[Tu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tu[Tu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tu[Tu.NOT_FOUND=5]="NOT_FOUND",Tu[Tu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tu[Tu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tu[Tu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tu[Tu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tu[Tu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tu[Tu.ABORTED=10]="ABORTED",Tu[Tu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tu[Tu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tu[Tu.INTERNAL=13]="INTERNAL",Tu[Tu.UNAVAILABLE=14]="UNAVAILABLE",Tu[Tu.DATA_LOSS=15]="DATA_LOSS";var Pu=function(){function e(t,n){je(this,e),this.comparator=t,this.root=n||Lu.EMPTY}return Ue(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Lu.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Lu.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ou(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ou(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ou(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ou(this.root,e,this.comparator,!0)}}]),e}(),Ou=function(){function e(t,n,r,i){je(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ue(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Lu=function(){function e(t,n,r,i,a){je(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ue(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw co();if(this.right.isRed())throw co();var e=this.left.check();if(e!==this.right.check())throw co();return e+(this.isRed()?0:1)}}]),e}();Lu.EMPTY=null,Lu.RED=!0,Lu.BLACK=!1,Lu.EMPTY=new(function(){function e(){je(this,e),this.size=0}return Ue(e,[{key:"key",get:function(){throw co()}},{key:"value",get:function(){throw co()}},{key:"color",get:function(){throw co()}},{key:"left",get:function(){throw co()}},{key:"right",get:function(){throw co()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Lu(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Du=function(){function e(t){je(this,e),this.comparator=t,this.data=new Pu(this.comparator)}return Ue(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ju(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ju(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ju=function(){function e(t){je(this,e),this.iter=t}return Ue(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Mu=new Pu(Xo.comparator);function Uu(){return Mu}var Fu=new Pu(Xo.comparator);function Vu(){return Fu}var zu=new Pu(Xo.comparator);function Bu(){return zu}var qu=new Du(Xo.comparator);function Hu(){for(var e=qu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Wu=new Du(To);function Ku(){return Wu}var Gu=function(){function e(t,n,r,i,a){je(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ue(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(No.min(),r,Ku(),Uu(),Hu())}}]),e}(),Qu=function(){function e(t,n,r,i,a){je(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ue(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Uo.EMPTY_BYTE_STRING,n,Hu(),Hu(),Hu())}}]),e}(),Xu=Ue((function e(t,n,r,i){je(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),$u=Ue((function e(t,n){je(this,e),this.targetId=t,this.M=n})),Yu=Ue((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uo.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;je(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ju=function(){function e(){je(this,e),this.F=0,this.L=tc(),this.B=Uo.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Ue(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Hu(),t=Hu(),n=Hu();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:co()}})),new Qu(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=tc()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Zu=function(){function e(t){je(this,e),this.et=t,this.nt=new Map,this.st=Uu(),this.it=ec(),this.rt=new Du(To)}return Ue(e,[{key:"ot",value:function(e){var t,n=Re(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=Re(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:co()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(ms(i))if(0===n){var a=new Xo(i.path);this.at(t,a,fs.newNoDocument(a,No.min()))}else lo(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ms(a.target)){var o=new Xo(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,fs.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Hu();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Gu(e,n,this.rt,this.st,r);return this.st=Uu(),this.it=ec(),this.rt=new Du(To),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Ju,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Du(To),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||ao("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Ju),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function ec(){return new Pu(Xo.comparator)}function tc(){return new Pu(Xo.comparator)}var nc={asc:"ASCENDING",desc:"DESCENDING"},rc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ic=Ue((function e(t,n){je(this,e),this.databaseId=t,this.C=n}));function ac(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function oc(e,t){return e.C?t.toBase64():t.toUint8Array()}function sc(e,t){return ac(e,t.toTimestamp())}function uc(e){return lo(!!e),No.fromTimestamp(function(e){var t=Vo(e);return new Co(t.seconds,t.nanos)}(e))}function cc(e,t){return function(e){return new Lo(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function lc(e){var t=Lo.fromString(e);return lo(Pc(t)),t}function fc(e,t){return cc(e.databaseId,t.path)}function hc(e,t){var n=lc(t);if(n.get(1)!==e.databaseId.projectId)throw new po(ho.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new po(ho.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xo(mc(n))}function dc(e,t){return cc(e.databaseId,t)}function pc(e){var t=lc(e);return 4===t.length?Lo.emptyPath():mc(t)}function vc(e){return new Lo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mc(e){return lo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gc(e,t,n){return{name:fc(e,t),fields:n.value.mapValue.fields}}function yc(e,t){var n;if(t instanceof wu)n={update:gc(e,t.key,t.value)};else if(t instanceof Iu)n={delete:fc(e,t.key)};else if(t instanceof bu)n={update:gc(e,t.key,t.data),updateMask:Ac(t.fieldMask)};else{if(!(t instanceof Cu))return co();n={verify:fc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof nu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ru)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof au)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof su)return{fieldPath:t.field.canonicalString(),increment:n.N};throw co()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:co()}(e,t.precondition)),n}function kc(e,t){return{documents:[dc(e,t.path)]}}function wc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=dc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=dc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(os(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NAN"}};if(as(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(os(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NOT_NAN"}};if(as(e.value))return{unaryFilter:{field:Ic(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(e.field),op:Tc(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ic(e.field),direction:Sc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Ko(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=_c(t.startAt)),t.endAt&&(n.structuredQuery.endAt=_c(t.endAt)),n}function bc(e){var t=pc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Cs(Cc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ko(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ec(n.startAt));var l=null;return n.endAt&&(l=Ec(n.endAt)),Os(t,i,s,o,u,"F",c,l)}function xc(e){return e?void 0!==e.unaryFilter?[Rc(e)]:void 0!==e.fieldFilter?[Nc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xc(e)})).reduce((function(e,t){return e.concat(t)})):co():[]}function _c(e){return{before:e.before,values:e.position}}function Ec(e){var t=!!e.before,n=e.values||[];return new Ts(n,t)}function Sc(e){return nc[e]}function Tc(e){return rc[e]}function Ic(e){return{fieldPath:e.canonicalString()}}function Cc(e){return jo.fromServerFormat(e.fieldPath)}function Nc(e){return gs.create(Cc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return co()}}(e.fieldFilter.op),e.fieldFilter.value)}function Rc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Cc(e.unaryFilter.field);return gs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Cc(e.unaryFilter.field);return gs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cc(e.unaryFilter.field);return gs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cc(e.unaryFilter.field);return gs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return co()}}function Ac(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Pc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Oc(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dc(t)),t=Lc(e.get(n),t);return Dc(t)}function Lc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Dc(e){return e+"\x01\x01"}var jc=Ue((function e(t,n,r){je(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));jc.store="owner",jc.key="owner";var Mc=Ue((function e(t,n,r){je(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Mc.store="mutationQueues",Mc.keyPath="userId";var Uc=Ue((function e(t,n,r,i,a){je(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Uc.store="mutations",Uc.keyPath="batchId",Uc.userMutationsIndex="userMutationsIndex",Uc.userMutationsKeyPath=["userId","batchId"];var Fc=function(){function e(){je(this,e)}return Ue(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Oc(t)]}},{key:"key",value:function(e,t,n){return[e,Oc(t),n]}}]),e}();Fc.store="documentMutations",Fc.PLACEHOLDER=new Fc;var Vc=Ue((function e(t,n,r,i,a,o){je(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Vc.store="remoteDocuments",Vc.readTimeIndex="readTimeIndex",Vc.readTimeIndexPath="readTime",Vc.collectionReadTimeIndex="collectionReadTimeIndex",Vc.collectionReadTimeIndexPath=["parentPath","readTime"];var zc=Ue((function e(t){je(this,e),this.byteSize=t}));zc.store="remoteDocumentGlobal",zc.key="remoteDocumentGlobalKey";var Bc=Ue((function e(t,n,r,i,a,o,s){je(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Bc.store="targets",Bc.keyPath="targetId",Bc.queryTargetsIndexName="queryTargetsIndex",Bc.queryTargetsKeyPath=["canonicalId","targetId"];var qc=Ue((function e(t,n,r){je(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));qc.store="targetDocuments",qc.keyPath=["targetId","path"],qc.documentTargetsIndex="documentTargetsIndex",qc.documentTargetsKeyPath=["path","targetId"];var Hc=Ue((function e(t,n,r,i){je(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Hc.key="targetGlobalKey",Hc.store="targetGlobal";var Wc=Ue((function e(t,n){je(this,e),this.collectionId=t,this.parent=n}));Wc.store="collectionParents",Wc.keyPath=["collectionId","parent"];var Kc=Ue((function e(t,n,r,i){je(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Kc.store="clientMetadata",Kc.keyPath="clientId";var Gc=Ue((function e(t,n,r){je(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Gc.store="bundles",Gc.keyPath="bundleId";var Qc=Ue((function e(t,n,r){je(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Qc.store="namedQueries",Qc.keyPath="name";[Mc.store,Uc.store,Fc.store,Vc.store,Bc.store,jc.store,Hc.store,qc.store].concat([Kc.store]).concat([zc.store]).concat([Wc.store]).concat([Gc.store,Qc.store]);var Xc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$c=function(){function e(){je(this,e),this.onCommittedListeners=[]}return Ue(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Yc=function(){function e(t){var n=this;je(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ue(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&co(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Re(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Jc(e){return"IndexedDbTransactionError"===e.name}var Zc=function(){function e(t,n,r,i){je(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ue(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Re(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&mu(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Re(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&mu(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(No.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Hu())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(function(e,t){return yu(e,t)}))&&Io(this.baseMutations,e.baseMutations,(function(e,t){return yu(e,t)}))}}]),e}(),el=function(){function e(t,n,r,i){je(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ue(e,null,[{key:"from",value:function(t,n,r){lo(t.mutations.length===r.length);for(var i=Bu(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),tl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:No.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:No.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uo.EMPTY_BYTE_STRING;je(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Ue(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),nl=Ue((function e(t){je(this,e),this.Gt=t}));function rl(e){var t=bc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Bs(t,t.limit,"L"):t}var il=function(){function e(){je(this,e),this.zt=new al}return Ue(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Yc.resolve()}},{key:"getCollectionParents",value:function(e,t){return Yc.resolve(this.zt.getEntries(t))}}]),e}(),al=function(){function e(){je(this,e),this.index={}}return Ue(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Du(Lo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Du(Lo.comparator)).toArray()}}]),e}();var ol=function(){function e(t,n,r){je(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ue(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ol.DEFAULT_COLLECTION_PERCENTILE=10,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ol.DEFAULT=new ol(41943040,ol.DEFAULT_COLLECTION_PERCENTILE,ol.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ol.DISABLED=new ol(-1,0,0);var sl=function(){function e(t){je(this,e),this.se=t}return Ue(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function ul(e){return cl.apply(this,arguments)}function cl(){return cl=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ho.FAILED_PRECONDITION&&t.message===Xc){e.next=2;break}throw t;case 2:ao("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}var ll=function(){function e(t,n){je(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Ue(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Re(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ao(this.inner,(function(t,n){var r,i=Re(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Po(this.inner)}}]),e}(),fl=function(){function e(){je(this,e),this.changes=new ll((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ue(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:No.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:fs.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Yc.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var hl=function(){function e(t,n,r){je(this,e),this.Je=t,this.An=n,this.Jt=r}return Ue(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Re(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Re(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Xo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Fs(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Xo(t)).next((function(e){var t=Vu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Vu();return this.Jt.getCollectionParents(e,i).next((function(o){return Yc.forEach(o,(function(o){var s=function(e,t){return new Ps(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Re(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Re(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=fs.newInvalidDocument(c),r=r.insert(c,l)),mu(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Ks(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Hu(),a=Re(t);try{for(a.s();!(r=a.n()).done;){var o,s=Re(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof bu&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),dl=function(){function e(t,n,r,i){je(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Ue(e,null,[{key:"$n",value:function(t,n){var r,i=Hu(),a=Hu(),o=Re(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),pl=function(){function e(){je(this,e)}return Ue(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(No.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Ds(t)||js(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(io()<=ht.DEBUG&&ao("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ws(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Du(Gs(e));return t.forEach((function(t,r){Ks(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return io()<=ht.DEBUG&&ao("QueryEngine","Using full collection scan to execute query:",Ws(t)),this.Mn.getDocumentsMatchingQuery(e,t,No.min())}}]),e}(),vl=function(){function e(t,n,r,i){je(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Pu(To),this.Kn=new ll((function(e){return ps(e)}),vs),this.jn=No.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new hl(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Ue(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function ml(e,t,n,r){return new vl(e,t,n,r)}function gl(e,t){return yl.apply(this,arguments)}function yl(){return yl=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new hl(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Hu(),u=Re(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Re(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Re(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=Re(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function kl(e,t){var n=fo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Yc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function wl(e){var t=fo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function bl(e,t){var n=fo(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Uo.EMPTY_BYTE_STRING,No.min()).withLastLimboFreeSnapshotVersion(No.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Uu();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(xl(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(No.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Yc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function xl(e,t,n,r,i){var a=Hu();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Uu();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(No.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):ao("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function _l(e,t){var n=fo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function El(e,t){var n=fo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Yc.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new tl(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Sl(e,t,n){return Tl.apply(this,arguments)}function Tl(){return Tl=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fo(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Jc(e.t1)){e.next=12;break}throw e.t1;case 12:ao("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Tl.apply(this,arguments)}function Il(e,t,n){var r=fo(e),i=No.min(),a=Hu();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fo(e),i=r.Kn.get(n);return void 0!==i?Yc.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,zs(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:No.min(),n?a:Hu())})).next((function(e){return{documents:e,zn:a}}))}))}var Cl=function(){function e(t){je(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Ue(e,[{key:"getBundleMetadata",value:function(e,t){return Yc.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:uc(n.createTime)}),Yc.resolve()}},{key:"getNamedQuery",value:function(e,t){return Yc.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:rl(e.bundledQuery),readTime:uc(e.readTime)}}(t)),Yc.resolve()}}]),e}(),Nl=function(){function e(){je(this,e),this.ts=new Du(Rl.es),this.ns=new Du(Rl.ss)}return Ue(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Rl(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Rl(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Xo(new Lo([])),r=new Rl(n,e),i=new Rl(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Xo(new Lo([])),n=new Rl(t,e),r=new Rl(t,e+1),i=Hu();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Rl(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Rl=function(){function e(t,n){je(this,e),this.key=t,this.fs=n}return Ue(e,null,[{key:"es",value:function(e,t){return Xo.comparator(e.key,t.key)||To(e.fs,t.fs)}},{key:"ss",value:function(e,t){return To(e.fs,t.fs)||Xo.comparator(e.key,t.key)}}]),e}(),Al=function(){function e(t,n){je(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Du(Rl.es)}return Ue(e,[{key:"checkEmpty",value:function(e){return Yc.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Zc(i,t,n,r);this.An.push(a);var o,s=Re(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Rl(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Yc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Yc.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Yc.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Yc.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Yc.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Rl(t,0),i=new Rl(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Yc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Du(To);return t.forEach((function(e){var t=new Rl(e,0),i=new Rl(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Yc.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xo.isDocumentKey(i)||(i=i.child(""));var a=new Rl(new Xo(i),0),o=new Du(To);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Yc.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lo(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Yc.forEach(t.mutations,(function(i){var a=new Rl(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Rl(t,0),r=this.ws.firstAfterOrEqual(n);return Yc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Yc.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Pl=function(){function e(t,n){je(this,e),this.Jt=t,this.Ts=n,this.docs=new Pu(Xo.comparator),this.size=0}return Ue(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Yc.resolve(n?n.document.mutableCopy():fs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Uu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():fs.newInvalidDocument(e))})),Yc.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Uu(),i=new Xo(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ks(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Yc.resolve(r)}},{key:"Es",value:function(e,t){return Yc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ol(this)}},{key:"getSize",value:function(e){return Yc.resolve(this.size)}}]),e}(),Ol=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this)).De=e,r}return Ue(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Yc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(fl),Ll=function(){function e(t){je(this,e),this.persistence=t,this.Is=new ll((function(e){return ps(e)}),vs),this.lastRemoteSnapshotVersion=No.min(),this.highestTargetId=0,this.As=0,this.Rs=new Nl,this.targetCount=0,this.bs=sl.ie()}return Ue(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Yc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Yc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Yc.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Yc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Yc.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Yc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Yc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Yc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Yc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Yc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Yc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Yc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Yc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Yc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Yc.resolve(n)}},{key:"containsKey",value:function(e,t){return Yc.resolve(this.Rs.containsKey(t))}}]),e}(),Dl=function(){function e(t,n){var r=this;je(this,e),this.Ps={},this.Be=new _o(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ll(this),this.Jt=new il,this.Je=function(e,t){return new Pl(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new nl(n),this.Ye=new Cl(this.k)}return Ue(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new Al(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;ao("MemoryPersistence","Starting transaction:",e);var i=new jl(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Yc.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),jl=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ue(n)}($c),Ml=function(){function e(t){je(this,e),this.persistence=t,this.Cs=new Nl,this.Ns=null}return Ue(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw co()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Yc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Yc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Yc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yc.forEach(this.xs,(function(r){var i=Xo.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Yc.or([function(){return Yc.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var Ul=function(){function e(){je(this,e),this.activeTargetIds=Ku()}return Ue(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Fl=function(){function e(){je(this,e),this.pi=new Ul,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ue(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Ul,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Vl=function(){function e(){je(this,e)}return Ue(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),zl=function(){function e(){var t=this;je(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Ue(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){ao("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Re(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){ao("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Re(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Bl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ql=function(){function e(t){je(this,e),this.Vi=t.Vi,this.Si=t.Si}return Ue(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Hl=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ue(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Za;o.listenOnce(Qa.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ga.NO_ERROR:var t=o.getResponseJson();ao("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ga.TIMEOUT:ao("Connection",'RPC "'+e+'" timed out'),a(new po(ho.DEADLINE_EXCEEDED,"Request time out"));break;case Ga.HTTP_ERROR:var n=o.getStatus();if(ao("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ho).indexOf(t)>=0?t:ho.UNKNOWN}(r.status);a(new po(s,r.message))}else a(new po(ho.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new po(ho.UNAVAILABLE,"Connection failed."));break;default:co()}}finally{ao("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wa(),a=Ka(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ya({})),this.qi(o.initMessageHeaders,t,n),Ke()||Qe()||We().indexOf("Electron/")>=0||Xe()||We().indexOf("MSAppHost/")>=0||Ge()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");ao("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new ql({Vi:function(e){l?ao("Connection","Not sending because WebChannel is closed:",e):(c||(ao("Connection","Opening WebChannel transport."),u.open(),c=!0),ao("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Ja.EventType.OPEN,(function(){l||ao("Connection","WebChannel transport opened.")})),h(u,Ja.EventType.CLOSE,(function(){l||(l=!0,ao("Connection","WebChannel transport closed"),f.Oi())})),h(u,Ja.EventType.ERROR,(function(e){l||(l=!0,so("Connection","WebChannel transport errored:",e),f.Oi(new po(ho.UNAVAILABLE,"The operation could not be completed")))})),h(u,Ja.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];lo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ao("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Su[e];if(void 0!==t)return Au(t)}(a),s=i.message;void 0===o&&(o=ho.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new po(o,s)),u.close()}else ao("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,Xa.STAT_EVENT,(function(e){e.stat===$a.PROXY?ao("Connection","Detected buffering proxy"):e.stat===$a.NOPROXY&&ao("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){je(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ue(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);ao("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return ao("RestConnection","Received: ",e),e}),(function(t){throw so("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+no,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Bl[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Wl(){return"undefined"!=typeof document?document:null}function Kl(e){return new ic(e,!0)}var Gl=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;je(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Ue(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&ao("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Ql=function(){function e(t,n,r,i,a,o,s,u){je(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Gl(t,n)}return Ue(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===ho.RESOURCE_EXHAUSTED?(oo(n.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===ho.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new po(ho.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return ao("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(ao("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xl=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a,o,s){var u;return je(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Ue(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:co()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(lo(void 0===t||"string"==typeof t),Uo.fromBase64String(t||"")):(lo(void 0===t||t instanceof Uint8Array),Uo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ho.UNKNOWN:Au(e.code);return new po(t,e.message||"")}(o);n=new Yu(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=hc(e,u.document.name),l=uc(u.document.updateTime),f=new cs({mapValue:{fields:u.document.fields}}),h=fs.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Xu(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=hc(e,v.document),g=v.readTime?uc(v.readTime):No.min(),y=fs.newNoDocument(m,g),k=v.removedTargetIds||[];n=new Xu([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=hc(e,w.document),x=w.removedTargetIds||[];n=new Xu([],x,b,null)}else{if(!("filter"in t))return co();t.filter;var _=t.filter;_.targetId;var E=_.count||0,S=new Nu(E),T=_.targetId;n=new $u(T,S)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return No.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?No.min():t.readTime?uc(t.readTime):No.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=vc(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=ms(r)?{documents:kc(e,r)}:{query:wc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=oc(e,t.resumeToken):t.snapshotVersion.compareTo(No.min())>0&&(n.readTime=ac(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return co()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=vc(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Ql),$l=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a,o,s){var u;return je(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Ue(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Ne(Ie(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(lo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(lo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?uc(e.updateTime):uc(t);return n.isEqual(No.min())&&(n=uc(t)),new fu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=uc(e.commitTime);return this.listener.Cr(n,t)}return lo(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=vc(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yc(t.k,e)}))};this.gr(n)}}]),n}(Ql),Yl=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a){var o;return je(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Ue(n,[{key:"Or",value:function(){if(this.$r)throw new po(ho.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.Bi(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ho.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new po(ho.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.ji(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ho.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new po(ho.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Ue((function e(){je(this,e)}))}()),Jl=function(){function e(t,n){je(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Ue(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(oo(t),this.Lr=!1):ao("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Zl=Ue((function e(t,n,r,i,a){var o=this;je(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ff(o),!e.t0){e.next=5;break}return ao("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fo(t)).Gr.add(4),e.next=4,nf(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,ef(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Jl(r,i)}));function ef(e){return tf.apply(this,arguments)}function tf(){return tf=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ff(t)){e.next=18;break}n=Re(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),tf.apply(this,arguments)}function nf(e){return rf.apply(this,arguments)}function rf(){return rf=ee(ne().mark((function e(t){var n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Re(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),rf.apply(this,arguments)}function af(e,t){var n=fo(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),lf(n)?cf(n):Vf(n).lr()&&sf(n,t))}function of(e,t){var n=fo(e),r=Vf(n);n.Wr.delete(t),r.lr()&&uf(n,t),0===n.Wr.size&&(r.lr()?r._r():ff(n)&&n.Jr.set("Unknown"))}function sf(e,t){e.Yr.X(t.targetId),Vf(e).Pr(t)}function uf(e,t){e.Yr.X(t),Vf(e).vr(t)}function cf(e){e.Yr=new Zu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Vf(e).start(),e.Jr.Br()}function lf(e){return ff(e)&&!Vf(e).hr()&&e.Wr.size>0}function ff(e){return 0===fo(e).Gr.size}function hf(e){e.Yr=void 0}function df(e){return pf.apply(this,arguments)}function pf(){return pf=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){sf(t,e)}));case 1:case"end":return e.stop()}}),e)}))),pf.apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return mf=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hf(t),lf(t)?(t.Jr.Kr(n),cf(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function gf(e,t,n){return yf.apply(this,arguments)}function yf(){return yf=ee(ne().mark((function e(t,n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Yu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Re(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ao("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,kf(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xu?t.Yr.ot(n):n instanceof $u?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(No.min())){e.next=29;break}return e.prev=14,e.next=17,wl(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Uo.EMPTY_BYTE_STRING,n.snapshotVersion)),uf(e,t);var r=new tl(n.target,t,1,n.sequenceNumber);sf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ao("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,kf(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),yf.apply(this,arguments)}function kf(e,t,n){return wf.apply(this,arguments)}function wf(){return wf=ee(ne().mark((function e(t,n,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Jc(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,nf(t);case 5:t.Jr.set("Offline"),r||(r=function(){return wl(t.localStore)}),t.asyncQueue.enqueueRetryable(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ao("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,ef(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function bf(e,t){return t().catch((function(n){return kf(e,n,t)}))}function xf(e){return _f.apply(this,arguments)}function _f(){return _f=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fo(t),r=zf(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Ef(n)){e.next=19;break}return e.prev=3,e.next=6,_l(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Sf(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,kf(n,e.t0);case 17:e.next=2;break;case 19:Tf(n)&&If(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),_f.apply(this,arguments)}function Ef(e){return ff(e)&&e.Qr.length<10}function Sf(e,t){e.Qr.push(t);var n=zf(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Tf(e){return ff(e)&&!zf(e).hr()&&e.Qr.length>0}function If(e){zf(e).start()}function Cf(e){return Nf.apply(this,arguments)}function Nf(){return Nf=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zf(t).kr();case 1:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Rf(e){return Af.apply(this,arguments)}function Af(){return Af=ee(ne().mark((function e(t){var n,r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zf(t),r=Re(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Pf(e,t,n){return Of.apply(this,arguments)}function Of(){return Of=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=el.from(i,n,r),e.next=3,bf(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,xf(t);case 5:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Lf(e,t){return Df.apply(this,arguments)}function Df(){return Df=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&zf(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ru(i=n.code)||i===ho.ABORTED){e.next=7;break}return r=t.Qr.shift(),zf(t).wr(),e.next=5,bf(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,xf(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Tf(t)&&If(t);case 5:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function jf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fo(t)).asyncQueue.verifyOperationInProgress(),ao("RemoteStore","RemoteStore received new credentials"),i=ff(r),r.Gr.add(3),e.next=6,nf(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,ef(r);case 12:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}function Uf(e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fo(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,ef(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,nf(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}function Vf(e){return e.Xr||(e.Xr=function(e,t,n){var r=fo(e);return r.Or(),new Xl(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:df.bind(null,e),Ni:vf.bind(null,e),br:gf.bind(null,e)}),e.zr.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),lf(e)?cf(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:hf(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function zf(e){return e.Zr||(e.Zr=function(e,t,n){var r=fo(e);return r.Or(),new $l(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Cf.bind(null,e),Ni:Lf.bind(null,e),Nr:Rf.bind(null,e),Cr:Pf.bind(null,e)}),e.zr.push(function(){var t=ee(ne().mark((function t(n){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,xf(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(ao("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Bf=function(){function e(t,n,r,i,a){je(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ue(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new po(ho.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function qf(e,t){if(oo("AsyncQueue","".concat(t,": ").concat(e)),Jc(e))return new po(ho.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Hf=function(){function e(t){je(this,e),this.comparator=t?function(e,n){return t(e,n)||Xo.comparator(e.key,n.key)}:function(e,t){return Xo.comparator(e.key,t.key)},this.keyedMap=Vu(),this.sortedSet=new Pu(this.comparator)}return Ue(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Wf=function(){function e(){je(this,e),this.eo=new Pu(Xo.comparator)}return Ue(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):co():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Kf=function(){function e(t,n,r,i,a,o,s,u){je(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Ue(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Hf.emptySet(n),a,r,i,!0,!1)}}]),e}(),Gf=Ue((function e(){je(this,e),this.so=void 0,this.listeners=[]})),Qf=Ue((function e(){je(this,e),this.queries=new ll((function(e){return Hs(e)}),qs),this.onlineState="Unknown",this.io=new Set}));function Xf(e,t){return $f.apply(this,arguments)}function $f(){return $f=ee(ne().mark((function e(t,n){var r,i,a,o,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Gf),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=qf(e.t0,"Initialization of query '".concat(Ws(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&th(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),$f.apply(this,arguments)}function Yf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=ee(ne().mark((function e(t,n){var r,i,a,o,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e,t){var n,r=fo(e),i=!1,a=Re(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Re(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&th(r)}function eh(e,t,n){var r=fo(e),i=r.queries.get(t);if(i){var a,o=Re(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function th(e){e.io.forEach((function(e){e.next()}))}var nh=function(){function e(t,n,r){je(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Ue(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Re(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Kf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Kf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}();var rh=Ue((function e(t){je(this,e),this.key=t})),ih=Ue((function e(t){je(this,e),this.key=t})),ah=function(){function e(t,n){je(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Hu(),this.mutatedKeys=Hu(),this.Ao=Gs(t),this.Ro=new Hf(this.Ao)}return Ue(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Wf,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Ds(this.query)&&i.size===this.query.limit?i.last():null,c=js(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ks(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ds(this.query)||js(this.query))for(;o.size>this.query.limit;){var l=Ds(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return co()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Kf(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Wf,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Hu(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new ih(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new rh(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Hu();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Kf.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),oh=Ue((function e(t,n,r){je(this,e),this.query=t,this.targetId=n,this.view=r})),sh=Ue((function e(t){je(this,e),this.key=t,this.$o=!1})),uh=function(){function e(t,n,r,i,a,o){je(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new ll((function(e){return Hs(e)}),qs),this.Fo=new Map,this.Lo=new Set,this.Bo=new Pu(Xo.comparator),this.Uo=new Map,this.qo=new Nl,this.Ko={},this.jo=new Map,this.Qo=sl.re(),this.onlineState="Unknown",this.Wo=void 0}return Ue(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=ee(ne().mark((function e(t,n){var r,i,a,o,s,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Uh(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,El(r.localStore,zs(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,fh(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&af(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t,n,r){return hh.apply(this,arguments)}function hh(){return hh=ee(ne().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Il(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Rh(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Il(t.localStore,n,!0);case 3:return a=e.sent,o=new ah(n,a.zn),s=o.Po(a.documents),u=Qu.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Rh(t,r,c.Co),l=new oh(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t){return ph.apply(this,arguments)}function ph(){return ph=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fo(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!qs(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Sl(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),of(r.remoteStore,i.targetId),Ch(r,i.targetId)})).catch(ul);case 9:e.next=14;break;case 11:return Ch(r,i.targetId),e.next=14,Sl(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}function vh(e,t,n){return mh.apply(this,arguments)}function mh(){return mh=ee(ne().mark((function e(t,n,r){var i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fh(t),e.prev=1,e.next=4,function(e,t){var n,r=fo(e),i=Co.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Hu());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Re(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=gu(c,n.get(c.key));null!=l&&s.push(new bu(c.key,l,ls(l.value.mapValue),hu.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Pu(To)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Oh(i,a.changes);case 9:return e.next=11,xf(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=qf(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),mh.apply(this,arguments)}function gh(e,t){return yh.apply(this,arguments)}function yh(){return yh=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t),e.prev=1,e.next=4,bl(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(lo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?lo(n.$o):e.removedDocuments.size>0&&(lo(n.$o),n.$o=!1))})),e.next=8,Oh(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ul(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yh.apply(this,arguments)}function kh(e,t,n){var r=fo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Re(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&th(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function wh(e,t,n){return bh.apply(this,arguments)}function bh(){return bh=ee(ne().mark((function e(t,n,r){var i,a,o,s,u,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Pu(Xo.comparator)).insert(o,fs.newNoDocument(o,No.min())),u=Hu().add(o),c=new Gu(No.min(),new Map,new Du(To),s,u),e.next=9,gh(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Ph(i),e.next=16;break;case 14:return e.next=16,Sl(i.localStore,n,!1).then((function(){return Ch(i,n,r)})).catch(ul);case 16:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function xh(e,t){return _h.apply(this,arguments)}function _h(){return _h=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t),i=n.batch.batchId,e.prev=1,e.next=4,kl(r.localStore,n);case 4:return a=e.sent,Ih(r,i,null),Th(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Oh(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ul(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_h.apply(this,arguments)}function Eh(e,t,n){return Sh.apply(this,arguments)}function Sh(){return Sh=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fo(t),e.prev=1,e.next=4,function(e,t){var n=fo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return lo(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ih(i,n,r),Th(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Oh(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ul(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sh.apply(this,arguments)}function Th(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Ih(e,t,n){var r=fo(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Ch(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Re(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Nh(e,t)}))}function Nh(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(of(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Ph(e))}function Rh(e,t,n){var r,i=Re(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof rh?(e.qo.addReference(a.key,t),Ah(e,a)):a instanceof ih?(ao("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Nh(e,a.key)):co()}}catch(o){i.e(o)}finally{i.f()}}function Ah(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(ao("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Ph(e))}function Ph(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Xo(Lo.fromString(t)),r=e.Qo.next();e.Uo.set(r,new sh(n)),e.Bo=e.Bo.insert(n,r),af(e.remoteStore,new tl(zs(Ls(n.path)),r,2,_o.I))}}function Oh(e,t,n){return Lh.apply(this,arguments)}function Lh(){return Lh=ee(ne().mark((function e(t,n,r){var i,a,o,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fo(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=dl.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Yc.forEach(n,(function(t){return Yc.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Yc.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Jc(e.t0)){e.next=10;break}throw e.t0;case 10:ao("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Re(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}function Dh(e,t){return jh.apply(this,arguments)}function jh(){return jh=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fo(t)).currentUser.isEqual(n)){e.next=11;break}return ao("SyncEngine","User change. New user:",n.toKey()),e.next=5,gl(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new po(ho.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Oh(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Mh(e,t){var n=fo(e),r=n.Uo.get(t);if(r&&r.$o)return Hu().add(r.key);var i=Hu(),a=n.Fo.get(t);if(!a)return i;var o,s=Re(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function Uh(e){var t=fo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wh.bind(null,t),t.Oo.br=Zf.bind(null,t.eventManager),t.Oo.zo=eh.bind(null,t.eventManager),t}function Fh(e){var t=fo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Eh.bind(null,t),t}var Vh=function(){function e(){je(this,e),this.synchronizeTabs=!1}return Ue(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Kl(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return ml(this.persistence,new pl,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Dl(Ml.ks,this.k)}},{key:"Jo",value:function(e){return new Fl}},{key:"terminate",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zh=function(){function e(){je(this,e)}return Ue(e,[{key:"initialize",value:function(){var e=ee(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return kh(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Dh.bind(null,this.syncEngine),e.next=12,Uf(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Qf}},{key:"createDatastore",value:function(e){var t,n=Kl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Hl(t));return function(e,t,n,r){return new Yl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return kh(o.syncEngine,e,0)},a=zl.Pt()?new zl:new Vl,new Zl(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new uh(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fo(t),ao("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,nf(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Bh=function(){function e(t){je(this,e),this.observer=t,this.muted=!1}return Ue(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qh=function(){function e(t,n,r,i){var a=this;je(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=to.UNAUTHENTICATED,this.clientId=So.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ao("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ao("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ue(e,[{key:"getConfiguration",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new po(ho.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ee(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=qf(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Hh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ao("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,gl(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Kh(e,t){return Gh.apply(this,arguments)}function Gh(){return Gh=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Qh(t);case 3:return r=e.sent,ao("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return jf(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return jf(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Gh.apply(this,arguments)}function Qh(e){return Xh.apply(this,arguments)}function Xh(){return Xh=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ao("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Hh(t,new Vh);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Xh.apply(this,arguments)}function $h(e){return Yh.apply(this,arguments)}function Yh(){return Yh=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ao("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Kh(t,new zh);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Yh.apply(this,arguments)}function Jh(e){return $h(e).then((function(e){return e.syncEngine}))}function Zh(e){return ed.apply(this,arguments)}function ed(){return ed=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$h(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ch.bind(null,n.syncEngine),r.onUnlisten=dh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new vo;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function i(){return ne().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Bh({next:function(n){t.enqueueAndForget((function(){return Yf(e,o)})),n.fromCache&&"server"===r.source?i.reject(new po(ho.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new nh(n,a,{includeMetadataChanges:!0,wo:!0});return Xf(e,o)},i.next=3,Zh(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var nd=Ue((function e(t,n,r,i,a,o,s,u){je(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),rd=function(){function e(t,n){je(this,e),this.projectId=t,this.database=n||"(default)"}return Ue(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),id=new Map;function ad(e,t,n){if(!n)throw new po(ho.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function od(e){if(!Xo.isDocumentKey(e))throw new po(ho.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sd(e){if(Xo.isDocumentKey(e))throw new po(ho.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ud(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":co()}function cd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new po(ho.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ud(e);throw new po(ho.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var ld=function(){function e(t){var n;if(je(this,e),void 0===t.host){if(void 0!==t.ssl)throw new po(ho.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new po(ho.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new po(ho.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ue(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),fd=function(){function e(t,n,r){je(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1,t instanceof rd?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new po(ho.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(e.options.projectId)}(t))}return Ue(e,[{key:"app",get:function(){if(!this._app)throw new po(ho.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new po(ho.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new go;switch(e.type){case"gapi":var t=e.client;return lo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new wo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new po(ho.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=id.get(e);t&&(ao("ComponentProvider","Removing Datastore"),id.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var hd=function(){function e(t,n,r){je(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ue(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pd(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),dd=function(){function e(t,n,r){je(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ue(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),pd=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a;return je(this,n),(a=t.call(this,e,r,Ls(i)))._path=i,a.type="collection",a}return Ue(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new hd(this.firestore,null,new Xo(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(dd);function vd(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),ad("collection","path",t),e instanceof fd){var a=Lo.fromString.apply(Lo,[t].concat(r));return sd(a),new pd(e,null,a)}if(!(e instanceof hd||e instanceof pd))throw new po(ho.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Lo.fromString.apply(Lo,[t].concat(r)));return sd(o),new pd(e.firestore,null,o)}function md(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),1===arguments.length&&(t=So.A()),ad("doc","path",t),e instanceof fd){var a=Lo.fromString.apply(Lo,[t].concat(r));return od(a),new hd(e,null,new Xo(a))}if(!(e instanceof hd||e instanceof pd))throw new po(ho.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Lo.fromString.apply(Lo,[t].concat(r)));return od(o),new hd(e.firestore,e instanceof pd?e.converter:null,new Xo(o))}var gd=function(){function e(){var t=this;je(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Gl(this,"async_queue_retry"),this.bc=function(){var e=Wl();e&&ao("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Wl();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Ue(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Wl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new vo;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Jc(e.t0)){e.next=12;break}throw e.t0;case 12:ao("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw oo("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Bf.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&co()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Re(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Re(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function yd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Re(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var kd=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a;return je(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new gd,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ue(n,[{key:"_terminate",value:function(){return this._firestoreClient||bd(this),this._firestoreClient.terminate()}}]),n}(fd);function wd(e){return e._firestoreClient||bd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new nd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qh(e._authCredentials,e._appCheckCredentials,e._queue,r)}var xd=function(){function e(){je(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new po(ho.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jo(n)}return Ue(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var _d=function(){function e(t){je(this,e),this._byteString=t}return Ue(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Uo.fromBase64String(t))}catch(t){throw new po(ho.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Uo.fromUint8Array(t))}}]),e}(),Ed=Ue((function e(t){je(this,e),this._methodName=t})),Sd=function(){function e(t,n){if(je(this,e),!isFinite(t)||t<-90||t>90)throw new po(ho.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new po(ho.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ue(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return To(this._lat,e._lat)||To(this._long,e._long)}}]),e}(),Td=/^__.*__$/,Id=function(){function e(t,n,r){je(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ue(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}]),e}(),Cd=function(){function e(t,n,r){je(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ue(e,[{key:"toMutation",value:function(e,t){return new bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Nd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw co()}}var Rd=function(){function e(t,n,r,i,a,o){je(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ue(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return Kd(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Nd(this.$c)&&Td.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),Ad=function(){function e(t,n,r){je(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Kl(t)}return Ue(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Rd({$c:e,methodName:t,jc:n,path:jo.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Pd(e){var t=e._freezeSettings(),n=Kl(e._databaseId);return new Ad(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Od(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);Bd("Data must be an object, but it was:",o,r);var s,u,c=Vd(r,o);if(a.merge)s=new Mo(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Re(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=qd(t,d,n);if(!o.contains(p))throw new po(ho.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Gd(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Mo(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Id(new cs(c),s,u)}var Ld=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ed);function Dd(e,t,n){return new Rd({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var jd=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this,e)).Wc=r,i}return Ue(n,[{key:"_toFieldTransform",value:function(e){var t=Dd(this,e,!0),n=this.Wc.map((function(e){return Fd(e,t)})),r=new ru(n);return new lu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ed);function Md(e,t,n,r){var i=e.Qc(1,t,n);Bd("Data must be an object, but it was:",i,r);var a=[],o=cs.empty();Ao(r,(function(e,r){var s=Wd(t,e,n);r=st(r);var u=i.Bc(s);if(r instanceof Ld)a.push(s);else{var c=Fd(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Mo(a);return new Cd(o,s,i.fieldTransforms)}function Ud(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[qd(t,r,n)],u=[i];if(a.length%2!=0)throw new po(ho.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(qd(t,a[c])),u.push(a[c+1]);for(var l=[],f=cs.empty(),h=s.length-1;h>=0;--h)if(!Gd(l,s[h])){var d=s[h],p=u[h];p=st(p);var v=o.Bc(d);if(p instanceof Ld)l.push(d);else{var m=Fd(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new Mo(l);return new Cd(f,g,o.fieldTransforms)}function Fd(e,t){if(zd(e=st(e)))return Bd("Unsupported field value:",t,e),Vd(e,t);if(e instanceof Ed)return function(e,t){if(!Nd(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Re(e);try{for(a.s();!(n=a.n()).done;){var o=Fd(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=st(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ys(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Co.fromDate(e);return{timestampValue:ac(t.k,n)}}if(e instanceof Co){var r=new Co(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ac(t.k,r)}}if(e instanceof Sd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _d)return{bytesValue:oc(t.k,e._byteString)};if(e instanceof hd){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:cc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(ud(e)))}(e,t)}function Vd(e,t){var n={};return Po(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ao(e,(function(e,r){var i=Fd(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Co||e instanceof Sd||e instanceof _d||e instanceof hd||e instanceof Ed)}function Bd(e,t,n){if(!zd(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ud(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function qd(e,t,n){if((t=st(t))instanceof xd)return t._internalPath;if("string"==typeof t)return Wd(e,t);throw Kd("Field path arguments must be of type string or ",e,!1,void 0,n)}var Hd=new RegExp("[~\\*/\\[\\]]");function Wd(e,t,n){if(t.search(Hd)>=0)throw Kd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Te(xd,J(t.split(".")))._internalPath}catch(r){throw Kd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Kd(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new po(ho.INVALID_ARGUMENT,s+e+u)}function Gd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qd=function(){function e(t,n,r,i,a){je(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ue(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new hd(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Xd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field($d("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Xd=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n,[{key:"data",value:function(){return Ne(Ie(n.prototype),"data",this).call(this)}}]),n}(Qd);function $d(e,t){return"string"==typeof t?Wd(e,t):t instanceof xd?t._internalPath:t._delegate._internalPath}var Yd=function(){function e(t,n){je(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ue(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Jd=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a,o,s){var u;return je(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Ue(n,[{key:"exists",value:function(){return Ne(Ie(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field($d("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Qd),Zd=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ne(Ie(n.prototype),"data",this).call(this,e)}}]),n}(Jd),ep=function(){function e(t,n,r,i){je(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yd(i.hasPendingWrites,i.fromCache),this.query=r}return Ue(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Zd(n._firestore,n._userDataWriter,r.key,r,new Yd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new po(ho.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Zd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Zd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tp(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function tp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return co()}}function np(e){if(js(e)&&0===e.explicitOrderBy.length)throw new po(ho.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function rp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var ip=function(){function e(){je(this,e)}return Ue(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw co()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ao(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Sd(zo(e.latitude),zo(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ho(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Wo(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Vo(e);return new Co(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Lo.fromString(e);lo(Pc(n));var r=new rd(n.get(1),n.get(3)),i=new Xo(n.popFirst(5));return r.isEqual(t)||oo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ap(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var op=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this)).firestore=e,r}return Ue(n,[{key:"convertBytes",value:function(e){return new _d(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new hd(this.firestore,null,t)}}]),n}(ip);function sp(e){e=cd(e,dd);var t=cd(e.firestore,kd),n=wd(t),r=new op(t);return np(e._query),td(n,e._query).then((function(n){return new ep(t,r,e,n)}))}function up(e,t,n){e=cd(e,hd);for(var r=cd(e.firestore,kd),i=Pd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return hp(r,[("string"==typeof(t=st(t))||t instanceof xd?Ud(i,"updateDoc",e._key,t,n,o):Md(i,"updateDoc",e._key,t)).toMutation(e._key,hu.exists(!0))])}function cp(e){return hp(cd(e.firestore,kd),[new Iu(e._key,hu.none())])}function lp(e,t){var n=cd(e.firestore,kd),r=md(e),i=ap(e.converter,t);return hp(n,[Od(Pd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hu.exists(!1))]).then((function(){return r}))}function fp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=st(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||yd(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(yd(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof hd)l=cd(e.firestore,kd),f=Ls(e._key.path),c={next:function(t){n[u]&&n[u](dp(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=cd(e,dd);l=cd(p.firestore,kd),f=p._query;var v=new op(l);c={next:function(e){n[u]&&n[u](new ep(l,v,p,e))},error:n[u+1],complete:n[u+2]},np(e._query)}return function(e,t,n,r){var i=new Bh(r),a=new nh(t,i,n);return e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xf,t.next=3,Zh(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Yf,t.next=3,Zh(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wd(l),f,h,c)}function hp(e,t){return function(e,t){var n=new vo;return e.asyncQueue.enqueueAndForget(ee(ne().mark((function r(){return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=vh,r.next=3,Jh(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(wd(e),t)}function dp(e,t,n){var r=n.docs.get(t._key),i=new op(e);return new Jd(e,i,t._key,r,new Yd(n.hasPendingWrites,n.fromCache),t.converter)}function pp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jd("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];no="9.6.5",At(new ut("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new kd(i,new yo(e.getProvider("auth-internal")),new xo(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ft(eo,"3.4.4",e),Ft(eo,"3.4.4","esm2017")}();var vp="firebasestorage.googleapis.com",mp=function(e){Ae(n,e);var t=De(n);function n(e,r){var i;return je(this,n),(i=t.call(this,gp(e),"Firebase Storage: ".concat(r," (").concat(gp(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Oe(i),n.prototype),i}return Ue(n,[{key:"_codeEquals",value:function(e){return gp(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}($e);function gp(e){return"storage/"+e}function yp(){return new mp("unknown","An unknown error occurred, please check the error payload for server response.")}function kp(){return new mp("canceled","User canceled the upload/download.")}function wp(){return new mp("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function bp(e){return new mp("invalid-argument",e)}function xp(){return new mp("app-deleted","The Firebase app was deleted.")}function _p(e,t){return new mp("invalid-format","String does not match format '"+e+"': "+t)}function Ep(e){throw new mp("internal-error","Internal error: "+e)}var Sp,Tp=function(){function e(t,n){je(this,e),this.bucket=t,this.path_=n}return Ue(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new mp("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===vp?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new mp("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ip=function(){function e(t){je(this,e),this.promise_=Promise.reject(t)}return Ue(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Cp(e){return"string"===typeof e||e instanceof String}function Np(e){return Rp()&&e instanceof Blob}function Rp(){return"undefined"!==typeof Blob}function Ap(e,t,n,r){if(r<t)throw bp("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw bp("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Pp(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Op(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Sp||(Sp={}));var Lp=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;je(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Ue(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=yp();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?xp():kp());else i(new mp("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Dp(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Dp(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Sp.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Dp(o,r))}else{var s=r.getErrorCode()===Sp.ABORT;t(!1,new Dp(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Dp=Ue((function e(t,n,r){je(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function jp(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Mp(){for(var e=jp(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Rp())return new Blob(n);throw new mp("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Up="raw",Fp="base64",Vp="base64url",zp="data_url",Bp=Ue((function e(t,n){je(this,e),this.data=t,this.contentType=n||null}));function qp(e,t){switch(e){case Up:return new Bp(Hp(t));case Fp:case Vp:return new Bp(Wp(e,t));case zp:return new Bp(function(e){var t=new Kp(e);return t.base64?Wp(Fp,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw _p(zp,"Malformed data URL.")}return Hp(t)}(t.rest)}(t),new Kp(t).contentType)}throw yp()}function Hp(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Wp(e,t){switch(e){case Fp:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw _p(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Vp:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw _p(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw _p(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Kp=Ue((function e(t){je(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw _p(zp,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Gp=function(){function e(t,n){je(this,e);var r=0,i="";Np(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Ue(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Np(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Rp()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Mp.apply(null,i))}var a=n.map((function(e){return Cp(e)?qp(Up,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Qp(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Xp(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $p(e,t){return t}var Yp=Ue((function e(t,n,r,i){je(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||$p})),Jp=null;function Zp(){if(Jp)return Jp;var e=[];e.push(new Yp("bucket")),e.push(new Yp("generation")),e.push(new Yp("metageneration")),e.push(new Yp("name","fullPath",!0));var t=new Yp("name");t.xform=function(e,t){return function(e){return!Cp(e)||e.length<2?e:Xp(e)}(t)},e.push(t);var n=new Yp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Yp("timeCreated")),e.push(new Yp("updated")),e.push(new Yp("md5Hash",null,!0)),e.push(new Yp("cacheControl",null,!0)),e.push(new Yp("contentDisposition",null,!0)),e.push(new Yp("contentEncoding",null,!0)),e.push(new Yp("contentLanguage",null,!0)),e.push(new Yp("contentType",null,!0)),e.push(new Yp("metadata","customMetadata",!0)),Jp=e}function ev(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Tp(n,r);return t._makeStorageReference(i)}})}(r,e),r}function tv(e,t,n){var r=Qp(t);return null===r?null:ev(e,r,n)}function nv(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function rv(e,t,n){var r=Qp(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Re(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new Tp(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=Re(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new Tp(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var iv=Ue((function e(t,n,r,i){je(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function av(e){if(!e)throw yp()}function ov(e,t){return function(n,r){var i=tv(e,r,t);return av(null!==i),i}}function sv(e,t){return function(n,r){var i=tv(e,r,t);return av(null!==i),function(e,t,n,r){var i=Qp(t);if(null===i)return null;if(!Cp(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Pp("/b/"+o(i)+"/o/"+o(a),n,r)+Op({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function uv(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new mp("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new mp("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new mp("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new mp("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function cv(e){var t=uv(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new mp("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function lv(e,t,n){var r=Pp(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new iv(r,"GET",ov(e,n),i);return a.errorHandler=cv(t),a}function fv(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Pp(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new iv(o,"GET",function(e,t){return function(n,r){var i=rv(e,t,r);return av(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=uv(t),u}function hv(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function dv(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=hv(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+nv(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Gp.getBlob(c,r,l);if(null===f)throw wp();var h={name:u.fullPath},d=Pp(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new iv(d,"POST",ov(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=uv(t),v}var pv=Ue((function e(t,n,r,i){je(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function vv(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){av(!1)}return av(!!n&&-1!==(t||["active"]).indexOf(n)),n}var mv=262144;function gv(e,t,n,r,i,a,o,s){var u=new pv(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new mp("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw wp();var v=t.maxUploadRetryTime,m=new iv(n,"POST",(function(e,n){var i,o=vv(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?ov(t,a)(e,n):null,new pv(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=uv(e),m}var yv="running",kv="paused",wv="success",bv="canceled",xv="error";function _v(e){switch(e){case"running":case"pausing":case"canceling":return yv;case"paused":return kv;case"success":return wv;case"canceled":return bv;default:return xv}}var Ev=Ue((function e(t,n,r){je(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Sv(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Tv=function(){function e(){var t=this;je(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sp.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Sp.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Sp.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Ue(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Ep("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Ep("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Ep("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Ep("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Ep("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Iv=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.apply(this,arguments)}return Ue(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Tv);function Cv(){return new Iv}var Nv=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;je(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Zp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Ue(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=a(n,2),i=r[0],o=r[1];switch(t._state){case"running":e(i,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=hv(t,r,i),s={name:o.fullPath},u=Pp(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=nv(o,n),f=e.maxUploadRetryTime,h=new iv(u,"POST",(function(e){var t;vv(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){av(!1)}return av(Cp(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=uv(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Cv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new iv(n,"POST",(function(e){var t=vv(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){av(!1)}n||av(!1);var i=Number(n);return av(!isNaN(i)),new pv(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=uv(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Cv,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=mv*this._chunkMultiplier,n=new pv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=gv(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Cv,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){mv*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=lv(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Cv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=dv(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Cv,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=kp(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=_v(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ev(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(_v(this._state)){case wv:Sv(this._resolve.bind(null,this.snapshot))();break;case bv:case xv:Sv(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(_v(this._state)){case yv:case kv:e.next&&Sv(e.next.bind(e,this.snapshot))();break;case wv:e.complete&&Sv(e.complete.bind(e))();break;default:e.error&&Sv(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Rv=function(){function e(t,n){je(this,e),this._service=t,this._location=n instanceof Tp?n:Tp.makeFromUrl(n,t.host)}return Ue(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Tp(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Xp(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Tp(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new mp("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Av(e,t,n){return Pv.apply(this,arguments)}function Pv(){return Pv=ee(ne().mark((function e(t,n,r){var i,a,o,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,Ov(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,J(s.prefixes)),(a=n.items).push.apply(a,J(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Av(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Ov(e,t){null!=t&&"number"===typeof t.maxResults&&Ap("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=fv(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Cv)}function Lv(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Pp(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new iv(r,"GET",sv(e,n),i);return a.errorHandler=cv(t),a}(e.storage,e._location,Zp());return e.storage.makeRequestWithTokens(t,Cv).then((function(e){if(null===e)throw new mp("no-download-url","The given file does not have any download URLs.");return e}))}function Dv(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Pp(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new iv(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=cv(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Cv)}function jv(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Tp(e._location.bucket,n);return new Rv(e.storage,r)}function Mv(e,t){if(e instanceof Vv){var n=e;if(null==n._bucket)throw new mp("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Rv(n,n._bucket);return null!=t?Mv(r,t):r}return void 0!==t?jv(e,t):e}function Uv(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Vv)return new Rv(e,t);throw bp("To use ref(service, url), the first argument must be a Storage instance.")}return Mv(e,t)}function Fv(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Tp.makeFromBucketSpec(n,e)}var Vv=function(){function e(t,n,r,i,a){je(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=vp,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Tp.makeFromBucketSpec(i,this._host):Fv(this._host,this.app.options)}return Ue(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Tp.makeFromBucketSpec(this._url,e):this._bucket=Fv(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Ap("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Ap("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Rv(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Ip(xp());var a=function(e,t,n,r,i,a){var o=Op(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Lp(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,o,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=a(r,2),o=i[0],s=i[1],e.abrupt("return",this._makeRequest(t,n,o,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),zv="@firebase/storage",Bv="0.9.2",qv="storage";function Hv(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Nv(e,new Gp(t),n)}(e=st(e),t,n)}function Wv(e){return function(e){var t={prefixes:[],items:[]};return Av(e,t).then((function(){return t}))}(e=st(e))}function Kv(e){return Lv(e=st(e))}function Gv(e){return Dv(e=st(e))}function Qv(e,t){return Uv(e=st(e),t)}function Xv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Vv(r,i,a,n,Mt)}At(new ut(qv,Xv,"PUBLIC").setMultipleInstances(!0)),Ft(zv,Bv,""),Ft(zv,Bv,"esm2017");var $v=n(184),Yv=function(e){var t=e.className,n=e.avatar,r=e.currentUser,i=e.db,a=e.storage,o=e.clickable,s=e.pageOwner,u=function(){var e=ee(ne().mark((function e(t){var n,o,s,u,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=md(i,"users",r.firebaseId),e.next=4,up(n,{"info.avatar":"https://www.google.com/images/spin-32.gif?a"});case 4:return o=r.info.avatarStorageURL,s=Qv(a,o),e.next=8,Wv(s.parent).then((function(e){return e.items.length})).catch((function(e){console.log(e)}));case 8:return e.sent>0?Gv(s).then((function(){console.log("existing avatar deleted!")})).catch((function(e){console.log("sth went wrong while trying to delete existing avatar...")})):console.log("no existing file in the avatar folder"),u=Qv(a,"users/".concat(r.info.id,"/avatar/").concat(t.name)),e.next=13,Hv(u,t).then((function(e){console.log("uploaded a file!"),c=e.metadata.fullPath})).catch((function(e){console.log("error uploading the file...",e)}));case 13:return e.sent,e.next=16,Kv(u);case 16:return l=e.sent,e.next=19,up(n,{"info.avatar":l,"info.avatarStorageURL":c});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("There was an error uploading a file to Cloud Storage:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,$v.jsx)("div",{className:t,onClick:function(){o&&s.info.id===r.info.id&&function(){var e=document.createElement("input");e.type="file",e.onchange=function(e){var t=e.target.files[0];t.type.match("image.*")&&u(t)},e.click()}()},children:n?(0,$v.jsx)("img",{src:n}):(0,$v.jsx)("i",{className:"far fa-user-circle"})})},Jv=function(t){t.currentUser,t.setCurrentUser;var n=t.users,r=(t.setUsers,t.posts,t.setPosts,t.getPublishedPosts,t.getFollowingPosts,a((0,e.useState)(""),2)),i=r[0],o=r[1],s=a((0,e.useState)(!1),2),u=s[0],c=s[1],l=a((0,e.useState)(n),2),f=l[0],h=l[1];(0,e.useEffect)((function(){var e=document.querySelector(".nav-search-bar"),t=function(){c(!0)};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}),[i]);var d=function(){c(!1),o(""),h(n)},p=function(){var e=document.querySelector(".nav-search-bar").getBoundingClientRect(),t={top:e.top+e.height+5+"px",left:e.left+e.width/2-150+"px"};return(0,$v.jsx)("div",{children:(0,$v.jsxs)("div",{className:"nav-search-bar-popover",style:t,children:[(0,$v.jsx)("div",{className:"popover-triangle"}),(0,$v.jsx)("div",{className:"popover-menu",style:{width:"300px"},children:0===f.length?(0,$v.jsx)("div",{className:"popover-menu-item-no-results",children:"No results found."}):f.map((function(e){return(0,$v.jsxs)($,{to:"".concat(e.info.username,"/"),className:"popover-menu-item",onClick:d,children:[(0,$v.jsx)(Yv,{className:"popover-avatar",avatar:e.info.avatar}),(0,$v.jsxs)("div",{className:"popover-menu-item-right",children:[(0,$v.jsx)("div",{className:"popover-username",children:e.info.username}),(0,$v.jsx)("div",{className:"popover-nickname",children:e.info.nickname})]})]},e.info.id)}))})]})})},v=function(){return(0,$v.jsx)("div",{className:"nav-search-bar-popover-close-btn",onClick:d,children:(0,$v.jsx)("i",{className:"fas fa-times-circle"})})};return(0,$v.jsxs)("div",{className:"nav-search-bar",children:[(0,$v.jsxs)("div",{children:[u?null:(0,$v.jsx)("i",{className:"fas fa-search"}),(0,$v.jsx)("input",{placeholder:"Search",autoComplete:"off",value:i,onChange:function(e){var t=e.target.value;o(t),h(n.filter((function(e){return e.info.username.includes(t)})))},id:"search-bar"})]}),u?(0,$v.jsx)(p,{}):null,u?(0,$v.jsx)(v,{}):null]})},Zv=function(e){var t=e.className,n=e.username;return(0,$v.jsx)("div",{className:t,children:(0,$v.jsx)($,{to:"".concat(n,"/"),children:n||"default"})})},em=function(t){var n=t.isSignedIn,r=t.currentUser,i=t.createNewPost,o=t.signIn,s=t.signOutUser,u=a((0,e.useState)(!1),2),c=u[0],l=u[1],f=function(){l(!1),document.getElementById("nav-dropdown-avatar").classList.remove("click")},h=function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:f();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=document.querySelector(".nav-dropdown").getBoundingClientRect(),t={top:e.top+e.height+"px",left:e.left+e.width/2-100+"px"};return(0,$v.jsx)("div",{children:(0,$v.jsxs)("div",{className:"nav-dropdown-popover",style:t,children:[(0,$v.jsx)("div",{className:"popover-triangle"}),(0,$v.jsxs)("div",{className:"popover-menu",style:{width:"200px"},children:[(0,$v.jsx)($,{to:"".concat(r.info.username,"/"),className:"popover-menu-item",onClick:f,children:"Profile"}),(0,$v.jsx)($,{to:"".concat(r.info.username,"/saved/"),className:"popover-menu-item",onClick:f,children:"Saved"}),(0,$v.jsx)($,{to:"accounts/edit/",className:"popover-menu-item",onClick:f,children:"Setting"}),(0,$v.jsx)("div",{className:"popover-divider"}),(0,$v.jsx)("div",{onClick:h,className:"popover-menu-item",children:"Log out"})]})]})})};return(0,$v.jsx)("div",{children:n?(0,$v.jsxs)("div",{className:"nav-right",children:[(0,$v.jsx)("div",{className:"nav-home",children:(0,$v.jsx)($,{to:"/",children:(0,$v.jsx)("i",{className:"fas fa-home"})})}),(0,$v.jsx)("div",{className:"nav-create-new-post",onClick:i,children:(0,$v.jsx)("i",{className:"far fa-plus-square"})}),(0,$v.jsxs)("div",{className:"nav-dropdown",children:[(0,$v.jsx)("img",{src:r.info.avatar,id:"nav-dropdown-avatar",onClick:function(){c?(l(!1),document.getElementById("nav-dropdown-avatar").classList.remove("click")):(l(!0),document.getElementById("nav-dropdown-avatar").classList.add("click"))}}),c?(0,$v.jsx)(d,{}):null]})]}):(0,$v.jsx)("button",{onClick:o,className:"signIn-btn",children:"Log in"})})},tm=function(){return(0,$v.jsx)("div",{className:"footer",children:(0,$v.jsxs)("div",{children:["Copyright \xa9 2022 ",(0,$v.jsx)("a",{href:"https://github.com/keithching",target:"_blank",children:"keithching"})]})})},nm=function(t){var n=t.signIn,r=t.users,i=t.getAuth,o=t.getRedirectResult,s=t.GoogleAuthProvider,u=t.saveUser,c=a((0,e.useState)(!1),2),l=c[0],f=c[1],h=function(){return(0,$v.jsx)("div",{className:"brand",children:"TheGram"})},d=function(){return(0,$v.jsx)("div",{className:"user",children:(0,$v.jsx)("button",{onClick:n,className:"signIn-btn",children:"Log In"})})},p=function(){return(0,$v.jsx)("div",{className:"login-page-sign-up-container",children:(0,$v.jsx)("span",{onClick:n,children:"Sign up with Google"})})},v=a((0,e.useState)(""),2),m=v[0],g=v[1],y=a((0,e.useState)(""),2),k=y[0],w=y[1],b=a((0,e.useState)(""),2),x=b[0],_=b[1],E=a((0,e.useState)(""),2),S=E[0],T=E[1];(0,e.useEffect)((function(){var e=i();o(e).then((function(e){e&&f(!0);var t=e.user;g(t.displayName),w(t.photoURL),_(t.email),T(t.uid);var n=r.map((function(e){return e.info.id}));n.find((function(e){return e===t.uid}))?console.log("uid duplicated"):console.log("uid not duplicated")})).catch((function(e){e.code,e.message,e.email,s.credentialFromError(e)}))}));var I=function(){var t=function(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=(0,e.useRef)(!0),c=function(){var e=document.getElementById("sign-up-form-full-name-input");u.current=!1,e.validity.valid?s(!0):(e.validity.valueMissing&&console.log("missing value"),s(!1))};return(0,$v.jsxs)("div",{className:"sign-up-form-input-field",children:[(0,$v.jsxs)("div",{className:"sign-up-form-input-field-left",children:[(0,$v.jsx)("span",{className:n?"sign-up-form-label non-empty":"sign-up-form-label empty",children:"Full Name"}),(0,$v.jsx)("input",{id:"sign-up-form-full-name-input",className:n?o?"sign-up-form-input non-empty valid":"sign-up-form-input non-empty":"sign-up-form-input empty",type:"text",autoComplete:"off",required:!0,onChange:function(e){r(e.target.value),c()},value:n})]}),(0,$v.jsx)("div",{className:"sign-up-form-input-field-right",children:u.current?null:o?(0,$v.jsx)("i",{className:"far fa-check-circle"}):(0,$v.jsx)("i",{className:"far fa-times-circle"})})]})},n=function(){var t=a((0,e.useState)(""),2),n=t[0],i=t[1],o=a((0,e.useState)(""),2),s=o[0],u=o[1],c=(0,e.useRef)(!0);return(0,e.useEffect)((function(){c.current=!1;var e=document.getElementById("sign-up-form-user-name-input"),t=function(){if(e.validity.valid){var t=r.map((function(e){return e.info.username}));console.log({usernamesFromServer:t}),console.log(n),t.find((function(e){return e===n}))?(console.log("username duplicated"),u(!1)):(console.log("username not duplicated"),u(!0))}else e.validity.valueMissing&&console.log("missing username value"),e.validity.tooShort&&console.log("min 5 characters"),u(!1)};return e.addEventListener("change",t),function(){return e.removeEventListener("change",t)}})),(0,$v.jsxs)("div",{className:"sign-up-form-input-field",children:[(0,$v.jsxs)("div",{className:"sign-up-form-input-field-left",children:[(0,$v.jsx)("span",{className:n?"sign-up-form-label non-empty":"sign-up-form-label empty",children:"Username"}),(0,$v.jsx)("input",{id:"sign-up-form-user-name-input",className:n?s?"sign-up-form-input non-empty valid":"sign-up-form-input non-empty":"sign-up-form-input empty",type:"text",autoComplete:"off",required:!0,minLength:"5",onChange:function(e){i(e.target.value)},value:n})]}),(0,$v.jsx)("div",{className:"sign-up-form-input-field-right",children:c.current?null:s?(0,$v.jsx)("i",{className:"far fa-check-circle"}):(0,$v.jsx)("i",{className:"far fa-times-circle"})})]})},i=function(){var t=a((0,e.useState)(!0),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){var e=document.getElementById("sign-up-form-full-name-input"),t=document.getElementById("sign-up-form-user-name-input"),n=function(){e.classList.contains("valid")&&t.classList.contains("valid")?r(!1):r(!0)};return e.addEventListener("change",n),t.addEventListener("change",n),function(){e.removeEventListener("change",n),t.removeEventListener("change",n)}})),(0,$v.jsx)("button",{id:"login-page-sign-up-btn",disabled:n,children:"Sign Up"})};return(0,$v.jsxs)("div",{className:"sign-up-content",children:[(0,$v.jsx)("span",{className:"login-page-sign-up-welcome-text",children:"Sign up to see photos and videos from your friends."}),(0,$v.jsx)("div",{className:"divider"}),(0,$v.jsxs)("div",{id:"google-container",children:[(0,$v.jsx)("img",{src:k,id:"google-avatar"}),(0,$v.jsxs)("div",{id:"google-container-right",children:[(0,$v.jsx)("div",{id:"google-display-name",children:m}),(0,$v.jsx)("div",{id:"google-email",children:x})]})]}),(0,$v.jsxs)("form",{noValidate:!0,className:"sign-up-form",onSubmit:function(e){e.preventDefault();var t=document.getElementById("sign-up-form-full-name-input").value,n=document.getElementById("sign-up-form-user-name-input").value,r={info:{id:S,username:n,nickname:t,avatar:null},posts:{published:[],commented:[],liked:[],saved:[]},comments:{},followers:[],following:[],userLog:[]};console.log(r),u(r).then((function(){window.location.reload()})).catch((function(e){console.log("something went wrong trying to save user to Firestore",e)}))},children:[(0,$v.jsx)(t,{}),(0,$v.jsx)(n,{}),(0,$v.jsx)(i,{})]})]})};return(0,$v.jsxs)("div",{className:"login-page-container",children:[(0,$v.jsxs)("div",{className:"main",children:[(0,$v.jsxs)("div",{className:"login-page-log-in-container",children:[(0,$v.jsx)(h,{}),l?(0,$v.jsx)(I,{}):(0,$v.jsxs)("div",{children:[(0,$v.jsx)("div",{className:"divider"}),(0,$v.jsx)(d,{})]})]}),l?null:(0,$v.jsx)(p,{})]}),(0,$v.jsx)(tm,{})]})};function rm(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function im(e,t){re(1,arguments);var n=ie(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");var r=null!==t&&void 0!==t&&t.format?String(t.format):"extended",i=null!==t&&void 0!==t&&t.representation?String(t.representation):"complete";if("extended"!==r&&"basic"!==r)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==i&&"time"!==i&&"complete"!==i)throw new RangeError("representation must be 'date', 'time', or 'complete'");var a="",o="",s="extended"===r?"-":"",u="extended"===r?":":"";if("time"!==i){var c=rm(n.getDate(),2),l=rm(n.getMonth()+1,2),f=rm(n.getFullYear(),4);a="".concat(f).concat(s).concat(l).concat(s).concat(c)}if("date"!==i){var h=n.getTimezoneOffset();if(0!==h){var d=Math.abs(h),p=rm(Math.floor(d/60),2),v=rm(d%60,2),m=h<0?"+":"-";o="".concat(m).concat(p,":").concat(v)}else o="Z";var g=rm(n.getHours(),2),y=rm(n.getMinutes(),2),k=rm(n.getSeconds(),2),w=""===a?"":"T",b=[g,y,k].join(u);a="".concat(a).concat(w).concat(b).concat(o)}return a}var am=function(t){var n=t.toggleNewPostMenu,r=t.setToggleNewPostMenu,i=t.storage,o=t.currentUser,s=t.savePost,u=t.db,c=function(){var e=document.createElement("input");e.type="file",e.onchange=function(e){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(e){var n=e.target.result;v(n),h(!0),y(t)}},e.click()},l=a((0,e.useState)(!1),2),f=l[0],h=l[1],d=a((0,e.useState)(""),2),p=d[0],v=d[1],m=a((0,e.useState)(""),2),g=m[0],y=m[1],k=a((0,e.useState)(""),2),w=k[0],b=k[1],x=a((0,e.useState)(!1),2),_=x[0],E=x[1];(0,e.useEffect)((function(){if(n&&!f){document.body.classList.add("stop-scrolling");var e=document.querySelector(".create-post-menu-container");e.addEventListener("dragover",S.dragIsOver),e.addEventListener("dragleave",S.dragIsLeave),e.addEventListener("drop",S.dragIsDrop)}else document.body.classList.remove("stop-scrolling");return function(){var e=document.querySelector(".create-post-menu-container");e&&(e.removeEventListener("dragover",S.dragIsOver),e.removeEventListener("dragleave",S.dragIsLeave),e.removeEventListener("drop",S.dragIsDrop))}}),[n,f]);var S={dragIsOver:function(e){e.preventDefault(),document.querySelector(".create-post-menu-drag-icon").classList.add("dragActive")},dragIsLeave:function(){document.querySelector(".create-post-menu-drag-icon").classList.remove("dragActive")},dragIsDrop:function(e){e.preventDefault();var t=e.dataTransfer.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(e){var n=e.target.result;v(n),h(!0),y(t)}}},T=a((0,e.useState)(!1),2),I=T[0],C=T[1],N=function(){b((function(){return document.getElementById("create-post-caption-input").value})),E(!0)},R=function(){var e=ee(ne().mark((function e(t,n){var r,a,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Qv(i,"users/".concat(o.info.id,"/posts/").concat(n,"/").concat(t.name)),e.next=4,Hv(r,t).then((function(e){console.log("uploaded a file!"),a=e.metadata.fullPath})).catch((function(e){console.log("error uploading the file...",e)}));case 4:return e.sent,e.next=7,Kv(r);case 7:return s=e.sent,e.abrupt("return",{publicImageUrl:s,fullPath:a});case 11:e.prev=11,e.t0=e.catch(0),console.error("There was an error uploading a file to Cloud Storage:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();(0,e.useEffect)(ee(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=10;break}return t=_e()(),e.next=4,R(g,t);case 4:return n=e.sent,r={id:t,createdBy:o.info.id,timeCreated:im(Date.now()).toString(),description:w,photos:n.publicImageUrl,photosStorageURL:n.fullPath,comments:[],whoLiked:[],whoSaved:[]},s(r).then((function(e){return C(!0)})).then((function(e){console.log("finish")})),i=md(u,"users",o.firebaseId),e.next=10,up(i,{"posts.published":pp({id:t})});case 10:case"end":return e.stop()}}),e)}))),[_]);var A=function(){return(0,$v.jsx)("div",{className:"create-post-menu-close-btn",onClick:function(){h(!1),E(!1),C(!1),r(!1)},children:(0,$v.jsx)("i",{className:"fas fa-times"})})},P=function(){return(0,$v.jsxs)("div",{className:"create-post-menu-menu-top",children:[(0,$v.jsx)("div",{}),I?(0,$v.jsx)("span",{children:"Post shared"}):(0,$v.jsx)("span",{children:"Create new post"}),f?_?(0,$v.jsx)("div",{}):(0,$v.jsx)("div",{id:"create-post-share-post-btn",onClick:N,children:"Share"}):(0,$v.jsx)("div",{})]})},O=function(){return(0,$v.jsxs)("div",{className:"create-post-menu-menu-content-initial",children:[(0,$v.jsx)("div",{className:"create-post-menu-drag-icon",children:(0,$v.jsx)("i",{className:"fas fa-photo-video"})}),(0,$v.jsx)("div",{className:"create-post-menu-drag-caption",children:"Drag photos here"}),(0,$v.jsx)("button",{onClick:c,children:"Select from computer"})]})},L=function(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1];return(0,$v.jsxs)("div",{className:"create-post-menu-menu-content-preview",children:[(0,$v.jsx)("div",{className:"create-post-menu-menu-left",children:(0,$v.jsx)("img",{src:p})}),(0,$v.jsxs)("div",{className:"create-post-menu-menu-right",children:[(0,$v.jsxs)("div",{className:"create-post-menu-menu-right-top",children:[(0,$v.jsx)(Yv,{className:"create-post-avatar",avatar:o.info.avatar}),(0,$v.jsx)(Zv,{className:"create-post-username",username:o.info.username})]}),(0,$v.jsx)("div",{className:"create-post-menu-menu-right-caption",children:(0,$v.jsx)("textarea",{id:"create-post-caption-input",placeholder:"Write a caption...",autoComplete:"off",autoCorrect:"off",maxLength:"2200",type:"text",onChange:function(e){"create-post-caption-input"===e.target.id&&r(e.target.value)},value:n})}),(0,$v.jsxs)("div",{className:"create-post-menu-menu-right-word-count",children:[n.length,"/2,200"]})]})]})},D=function(){return(0,$v.jsx)("div",{className:"create-post-final",children:I?(0,$v.jsx)("div",{className:"create-post-shared",children:"Your post has been shared."}):(0,$v.jsx)("div",{className:"create-post-loader"})})};return(0,$v.jsxs)("div",{className:"create-post-menu-container",children:[(0,$v.jsx)("div",{className:"create-post-menu-backdrop"}),(0,$v.jsx)(A,{}),(0,$v.jsxs)("div",{className:"create-post-menu-menu",children:[(0,$v.jsx)(P,{}),(0,$v.jsx)("div",{className:"create-post-menu-menu-content",children:f?_?(0,$v.jsx)(D,{}):(0,$v.jsx)(L,{}):(0,$v.jsx)(O,{})})]})]})},om={apiKey:"AIzaSyA6KiegCaYzg9CUnm_C__3wQY1_33oFznM",authDomain:"thegram-23b58.firebaseapp.com",projectId:"thegram-23b58",storageBucket:"thegram-23b58.appspot.com",messagingSenderId:"676630311709",appId:"1:676630311709:web:2e1db22862ca380ec1a7f4",measurementId:"G-RJFSZKPSSW"};Ft("firebase","9.6.5","app");function sm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var um;Object.create;function cm(){return Fe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var lm=cm,fm=new Ye("auth","Firebase",cm()),hm=new bt("@firebase/auth");function dm(e){if(hm.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hm.error.apply(hm,["Auth (".concat(Mt,"): ").concat(e)].concat(n))}}function pm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ym.apply(void 0,[e].concat(n))}function vm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ym.apply(void 0,[e].concat(n))}function mm(e,t,n){var r=Object.assign(Object.assign({},lm()),Fe({},t,n));return new Ye("auth","Firebase",r).create(t,{appName:e.name})}function gm(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pm(e,"argument-error"),mm(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=J(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(J(o)))}return fm.create.apply(fm,[e].concat(n))}function km(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ym.apply(void 0,[t].concat(r))}}function wm(e){var t="INTERNAL ASSERTION FAILED: "+e;throw dm(t),new Error(t)}function bm(e,t){e||wm(t)}var xm=new Map;function _m(e){bm(e instanceof Function,"Expected a class definition");var t=xm.get(e);return t?(bm(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xm.set(e,t),t)}function Em(e,t){var n=Pt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(et(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;pm(r,"already-initialized")}return n.initialize({options:t})}function Sm(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tm(){return"http:"===Im()||"https:"===Im()}function Im(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Cm=function(){function e(t,n){je(this,e),this.shortDelay=t,this.longDelay=n,bm(n>t,"Short delay should be less than long delay!"),this.isMobile=Ke()||Qe()}return Ue(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tm()||Ge()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Nm(e,t){bm(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Rm=function(){function e(){je(this,e)}return Ue(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void wm("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void wm("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void wm("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Am=(Fe(um={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Fe(um,"MISSING_CUSTOM_TOKEN","internal-error"),Fe(um,"INVALID_IDENTIFIER","invalid-email"),Fe(um,"MISSING_CONTINUE_URI","internal-error"),Fe(um,"INVALID_PASSWORD","wrong-password"),Fe(um,"MISSING_PASSWORD","internal-error"),Fe(um,"EMAIL_EXISTS","email-already-in-use"),Fe(um,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Fe(um,"INVALID_IDP_RESPONSE","invalid-credential"),Fe(um,"INVALID_PENDING_TOKEN","invalid-credential"),Fe(um,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Fe(um,"MISSING_REQ_TYPE","internal-error"),Fe(um,"EMAIL_NOT_FOUND","user-not-found"),Fe(um,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Fe(um,"EXPIRED_OOB_CODE","expired-action-code"),Fe(um,"INVALID_OOB_CODE","invalid-action-code"),Fe(um,"MISSING_OOB_CODE","internal-error"),Fe(um,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Fe(um,"INVALID_ID_TOKEN","invalid-user-token"),Fe(um,"TOKEN_EXPIRED","user-token-expired"),Fe(um,"USER_NOT_FOUND","user-token-expired"),Fe(um,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Fe(um,"INVALID_CODE","invalid-verification-code"),Fe(um,"INVALID_SESSION_INFO","invalid-verification-id"),Fe(um,"INVALID_TEMPORARY_PROOF","invalid-credential"),Fe(um,"MISSING_SESSION_INFO","missing-verification-id"),Fe(um,"SESSION_EXPIRED","code-expired"),Fe(um,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Fe(um,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Fe(um,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Fe(um,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Fe(um,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Fe(um,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Fe(um,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Fe(um,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Fe(um,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Fe(um,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Fe(um,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),um),Pm=new Cm(3e4,6e4);function Om(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Lm(e,t,n,r){return Dm.apply(this,arguments)}function Dm(){return Dm=ee(ne().mark((function e(t,n,r,i){var a,o=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",jm(t,a,ee(ne().mark((function e(){var a,o,s,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=nt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Rm.fetch()(Vm(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function jm(e,t,n){return Mm.apply(this,arguments)}function Mm(){return(Mm=ee(ne().mark((function e(t,n,r){var i,o,s,u,c,l,f,h,d,p;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Am),n),e.prev=2,o=new zm(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Bm(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=a(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Bm(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Bm(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw mm(t,p,d);case 30:pm(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof $e)){e.next=37;break}throw e.t0;case 37:pm(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function Um(e,t,n,r){return Fm.apply(this,arguments)}function Fm(){return Fm=ee(ne().mark((function e(t,n,r,i){var a,o,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Lm(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pm(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Nm(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var zm=function(){function e(t){var n=this;je(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(vm(n.auth,"network-request-failed"))}),Pm.get())}))}return Ue(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Bm(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=vm(e,t,r);return i.customData._tokenResponse=n,i}function qm(e,t){return Hm.apply(this,arguments)}function Hm(){return(Hm=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wm(e,t){return Km.apply(this,arguments)}function Km(){return(Km=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gm(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Qm(){return Qm=ee(ne().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=st(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,km((a=$m(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Gm(Xm(a.auth_time)),issuedAtTime:Gm(Xm(a.iat)),expirationTime:Gm(Xm(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function Xm(e){return 1e3*Number(e)}function $m(e){var t=a(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return dm("JWT malformed, contained fewer than 3 sections"),null;try{var o=qe(r);return o?JSON.parse(o):(dm("Failed to decode base64 JWT payload"),null)}catch(s){return dm("Caught error parsing JWT payload as JSON",s),null}}function Ym(e,t){return Jm.apply(this,arguments)}function Jm(){return Jm=ee(ne().mark((function e(t,n){var r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof $e&&Zm(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Jm.apply(this,arguments)}function Zm(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var eg=function(){function e(t){je(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ue(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),tg=function(){function e(t,n){je(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ue(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Gm(this.lastLoginAt),this.creationTime=Gm(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ng(e){return rg.apply(this,arguments)}function rg(){return rg=ee(ne().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ym(t,Wm(r,{idToken:i}));case 6:km(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?og(o.providerUserInfo):[],u=ag(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(){return ig=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=st(t),e.next=3,ng(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(J(n),J(t))}function og(e){return e.map((function(e){var t=e.providerId,n=sm(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function sg(e,t){return ug.apply(this,arguments)}function ug(){return(ug=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jm(t,{},ee(ne().mark((function e(){var r,i,a,o,s,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Vm(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Rm.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cg=function(){function e(){je(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ue(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){km(e.idToken,"internal-error"),km("undefined"!==typeof e.idToken,"internal-error"),km("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$m(e);return km(t,"internal-error"),km("undefined"!==typeof t.exp,"internal-error"),km("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ee(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],km(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sg(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return wm("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(km("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(km("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(km("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function lg(e,t){km("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var fg=function(){function e(t){je(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=sm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new eg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new tg(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ue(e,[{key:"getIdToken",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ym(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(km(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Qm.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ig.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(km(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){km(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ee(ne().mark((function e(t){var n,r,i=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ng(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ym(this,qm(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;km(k&&_,t,"internal-error");var E=cg.fromJSON(this.name,_);km("string"===typeof k,t,"internal-error"),lg(f,t.name),lg(h,t.name),km("boolean"===typeof w,t,"internal-error"),km("boolean"===typeof b,t,"internal-error"),lg(d,t.name),lg(p,t.name),lg(v,t.name),lg(m,t.name),lg(g,t.name),lg(y,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ee(ne().mark((function t(n,r){var i,a,o,s=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new cg).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ng(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),hg=function(){function e(){je(this,e),this.type="NONE",this.storage={}}return Ue(e,[{key:"_isAvailable",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();hg.type="NONE";var dg=hg;function pg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var vg=function(){function e(t,n,r){je(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=pg(this.userKey,a.apiKey,o),this.fullPersistenceKey=pg("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ue(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?fg._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ee(ne().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_m(dg),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_m(dg),s=pg(i,n.config.apiKey,n.name),u=null,c=Re(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=fg._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function mg(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xg(t))return"Blackberry";if(_g(t))return"Webos";if(yg(t))return"Safari";if((t.includes("chrome/")||kg(t))&&!t.includes("edge/"))return"Chrome";if(bg(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function gg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/firefox\//i.test(e)}function yg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/crios\//i.test(e)}function wg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iemobile/i.test(e)}function bg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/android/i.test(e)}function xg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/blackberry/i.test(e)}function _g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/webos/i.test(e)}function Eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return/iphone|ipad|ipod/i.test(e)}function Sg(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Eg(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Tg(){return Xe()&&10===document.documentMode}function Ig(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We();return Eg(e)||bg(e)||_g(e)||xg(e)||/windows phone/i.test(e)||wg(e)}function Cg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=mg(We());break;case"Worker":t="".concat(mg(We()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mt,"/").concat(r)}var Ng=function(){function e(t,n){je(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ag(this),this.idTokenSubscription=new Ag(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fm,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Ue(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_m(t)),this._initializationPromise=this.queue(ee(ne().mark((function r(){var i,a;return ne().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,vg.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ee(ne().mark((function e(t){var n,r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return km(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ng(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?st(t):null)&&km(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&km(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ee(ne().mark((function n(){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_m(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ye("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return km(n=t&&_m(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,vg.create(this,[_m(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return km(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return km(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cg(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rg(e){return st(e)}var Ag=function(){function e(t){var n=this;je(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new at(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return Ue(e,[{key:"next",get:function(){return km(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Pg=function(){function e(t,n){je(this,e),this.providerId=t,this.signInMethod=n}return Ue(e,[{key:"toJSON",value:function(){return wm("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return wm("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return wm("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return wm("not implemented")}}]),e}();function Og(e,t){return Lg.apply(this,arguments)}function Lg(){return(Lg=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dg(e,t){return jg.apply(this,arguments)}function jg(){return(jg=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Um(t,"POST","/v1/accounts:signInWithPassword",Om(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mg(e,t){return Ug.apply(this,arguments)}function Ug(){return(Ug=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Um(t,"POST","/v1/accounts:signInWithEmailLink",Om(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fg(e,t){return Vg.apply(this,arguments)}function Vg(){return(Vg=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Um(t,"POST","/v1/accounts:signInWithEmailLink",Om(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zg=function(e){Ae(n,e);var t=De(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return je(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ue(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Dg(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Mg(t,{email:this._email,oobCode:this._password}));case 5:pm(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Og(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Fg(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pm(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Pg);function Bg(e,t){return qg.apply(this,arguments)}function qg(){return(qg=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Um(t,"POST","/v1/accounts:signInWithIdp",Om(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hg=function(e){Ae(n,e);var t=De(n);function n(){var e;return je(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ue(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Bg(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Bg(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Bg(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pm("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=sm(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Pg);function Wg(e,t){return Kg.apply(this,arguments)}function Kg(){return(Kg=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lm(t,"POST","/v1/accounts:sendVerificationCode",Om(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gg(){return(Gg=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Um(t,"POST","/v1/accounts:signInWithPhoneNumber",Om(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qg(){return(Qg=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Um(t,"POST","/v1/accounts:signInWithPhoneNumber",Om(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Bm(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xg=Fe({},"USER_NOT_FOUND","user-not-found");function $g(){return($g=ee(ne().mark((function e(t,n){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Um(t,"POST","/v1/accounts:signInWithPhoneNumber",Om(t,r),Xg));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yg=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ue(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Gg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Qg.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $g.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Pg);var Jg=function(){function e(t){var n,r,i,a,o,s;je(this,e);var u=rt(it(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);km(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Ue(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=rt(it(e)).link,n=t?rt(it(t)).deep_link_id:null,r=rt(it(e)).deep_link_id;return(r?rt(it(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(rd){return null}}}]),e}();var Zg=function(){function e(){je(this,e),this.providerId=e.PROVIDER_ID}return Ue(e,null,[{key:"credential",value:function(e,t){return zg._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Jg.parseLink(t);return km(n,"argument-error"),zg._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Zg.PROVIDER_ID="password",Zg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ey=function(){function e(t){je(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ue(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ty=function(e){Ae(n,e);var t=De(n);function n(){var e;return je(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ue(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return J(this.scopes)}}]),n}(ey),ny=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.call(this,"facebook.com")}return Ue(n,null,[{key:"credential",value:function(e){return Hg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(rd){return null}}}]),n}(ty);ny.FACEBOOK_SIGN_IN_METHOD="facebook.com",ny.PROVIDER_ID="facebook.com";var ry=function(e){Ae(n,e);var t=De(n);function n(){var e;return je(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ue(n,null,[{key:"credential",value:function(e,t){return Hg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(rd){return null}}}]),n}(ty);ry.GOOGLE_SIGN_IN_METHOD="google.com",ry.PROVIDER_ID="google.com";var iy=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.call(this,"github.com")}return Ue(n,null,[{key:"credential",value:function(e){return Hg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(rd){return null}}}]),n}(ty);iy.GITHUB_SIGN_IN_METHOD="github.com",iy.PROVIDER_ID="github.com";var ay=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.call(this,"twitter.com")}return Ue(n,null,[{key:"credential",value:function(e,t){return Hg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(rd){return null}}}]),n}(ty);ay.TWITTER_SIGN_IN_METHOD="twitter.com",ay.PROVIDER_ID="twitter.com";var oy=function(){function e(t){je(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ue(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ee(ne().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,fg._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=sy(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ee(ne().mark((function t(n,r,i){var a;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sy(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var uy=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a){var o,s;return je(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Oe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ue(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}($e);function cy(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uy._fromErrorAndOperation(e,n,t,r);throw n}))}function ly(e,t){return fy.apply(this,arguments)}function fy(){return fy=ee(ne().mark((function e(t,n){var r,i,a=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ym,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",oy._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return dy=ee(ne().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ym(t,cy(i,a,n,t),r);case 6:return km((o=e.sent).idToken,i,"internal-error"),km(s=$m(o.idToken),i,"internal-error"),u=s.sub,km(t.uid===u,i,"user-mismatch"),e.abrupt("return",oy._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&pm(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),dy.apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=ee(ne().mark((function e(t,n){var r,i,a,o,s=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,cy(t,i,n);case 4:return a=e.sent,e.next=7,oy._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e,t){return Lm(e,"POST","/v2/accounts/mfaEnrollment:start",Om(e,t))}new WeakMap;var gy="__sak",yy=function(){function e(t,n){je(this,e),this.storageRetriever=t,this.type=n}return Ue(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(gy,"1"),this.storage.removeItem(gy),Promise.resolve(!0)):Promise.resolve(!1)}catch(rd){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var ky=function(e){Ae(n,e);var t=De(n);function n(){var e;return je(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=We();return yg(e)||Eg(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ig(),e._shouldAllowMigration=!0,e}return Ue(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Tg()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ee(ne().mark((function e(t,r){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(Ie(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(Ie(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(Ie(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(yy);ky.type="LOCAL";var wy=ky,by=function(e){Ae(n,e);var t=De(n);function n(){return je(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ue(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(yy);by.type="SESSION";var xy=by;function _y(e){return Promise.all(e.map(function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ey=function(){function e(t){je(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ue(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ee(ne().mark((function e(t){var n,r,i,a,o,s,u,c;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,_y(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Sy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ey.receivers=[];var Ty=function(){function e(t){je(this,e),this.target=t,this.handlers=new Set}return Ue(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ee(ne().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Sy("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Iy(){return window}function Cy(){return"undefined"!==typeof Iy().WorkerGlobalScope&&"function"===typeof Iy().importScripts}function Ny(){return Ry.apply(this,arguments)}function Ry(){return(Ry=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ay(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Py="firebaseLocalStorageDb",Oy="firebaseLocalStorage",Ly="fbase_key",Dy=function(){function e(t){je(this,e),this.request=t}return Ue(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function jy(e,t){return e.transaction([Oy],t?"readwrite":"readonly").objectStore(Oy)}function My(){var e=indexedDB.deleteDatabase(Py);return new Dy(e).toPromise()}function Uy(){var e=indexedDB.open(Py,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Oy,{keyPath:Ly})}catch(r){n(r)}})),e.addEventListener("success",ee(ne().mark((function n(){var r;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Oy)){n.next=12;break}return r.close(),n.next=5,My();case 5:return n.t0=t,n.next=8,Uy();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Fy(e,t,n){return Vy.apply(this,arguments)}function Vy(){return Vy=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jy(t,!0).put((Fe(i={},Ly,n),Fe(i,"value",r),i)),e.abrupt("return",new Dy(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Vy.apply(this,arguments)}function zy(e,t){return By.apply(this,arguments)}function By(){return By=ee(ne().mark((function e(t,n){var r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jy(t,!1).get(n),e.next=3,new Dy(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function qy(e,t){var n=jy(e,!0).delete(t);return new Dy(n).toPromise()}var Hy=function(){function e(){je(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ue(e,[{key:"_openDb",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Uy();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cy()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ee(ne().mark((function e(){var t=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ey._getInstance(Cy()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ee(ne().mark((function e(n,r){var i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ee(ne().mark((function e(){var t,n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ny();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ty(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ay()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Uy();case 5:return t=e.sent,e.next=8,Fy(t,gy,"1");case 8:return e.next=10,qy(t,gy);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ee(ne().mark((function e(t,n){var r=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Fy(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return zy(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(ne().mark((function e(t){var n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return qy(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ee(ne().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=jy(e,!1).getAll();return new Dy(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Re(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ee(ne().mark((function t(){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hy.type="LOCAL";var Wy=Hy;function Ky(e,t){return Lm(e,"POST","/v2/accounts/mfaSignIn:start",Om(e,t))}function Gy(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=vm("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Qy(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Qy("rcb"),new Cm(3e4,6e4);var Xy="recaptcha";function $y(e,t,n){return Yy.apply(this,arguments)}function Yy(){return Yy=ee(ne().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,km("string"===typeof a,t,"argument-error"),km(r.type===Xy,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return km("enroll"===s.type,t,"internal-error"),e.next=13,my(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return km("signin"===s.type,t,"internal-error"),km(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Ky(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wg(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Yy.apply(this,arguments)}var Jy=function(){function e(t){je(this,e),this.providerId=e.PROVIDER_ID,this.auth=Rg(t)}return Ue(e,[{key:"verifyPhoneNumber",value:function(e,t){return $y(this.auth,e,st(t))}}],[{key:"credential",value:function(e,t){return Yg._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Yg._fromTokenResponse(n,r):null}}]),e}();function Zy(e,t){return t?_m(t):(km(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Jy.PROVIDER_ID="phone",Jy.PHONE_SIGN_IN_METHOD="phone";var ek=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ue(n,[{key:"_getIdTokenResponse",value:function(e){return Bg(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Bg(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Bg(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Pg);function tk(e){return py(e.auth,new ek(e),e.bypassAuthState)}function nk(e){var t=e.auth,n=e.user;return km(n,t,"internal-error"),hy(n,new ek(e),e.bypassAuthState)}function rk(e){return ik.apply(this,arguments)}function ik(){return ik=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,km(r=t.user,n,"internal-error"),e.abrupt("return",ly(r,new ek(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ik.apply(this,arguments)}var ak=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];je(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ue(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ee(ne().mark((function t(n,r){return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ee(ne().mark((function e(t){var n,r,i,a,o,s,u;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tk;case"linkViaPopup":case"linkViaRedirect":return rk;case"reauthViaPopup":case"reauthViaRedirect":return nk;default:pm(this.auth,"internal-error")}}},{key:"resolve",value:function(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){bm(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ok=new Cm(2e3,1e4);var sk=function(e){Ae(n,e);var t=De(n);function n(e,r,i,a,o){var s;return je(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Oe(s),s}return Ue(n,[{key:"executeNotNull",value:function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return km(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ee(ne().mark((function e(){var t,n=this;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bm(1===this.filter.length,"Popup operations only handle one event"),t=Sy(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(vm(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(vm(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(vm(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ok.get())}()}}]),n}(ak);sk.currentPopupAction=null;var uk=new Map,ck=function(e){Ae(n,e);var t=De(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return je(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ue(n,[{key:"execute",value:function(){var e=ee(ne().mark((function e(){var t,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=uk.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,lk(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ne(Ie(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:uk.set(this.auth._key(),t);case 21:return this.bypassAuthState||uk.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ee(ne().mark((function e(t){var r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ne(Ie(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ne(Ie(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ak);function lk(e,t){return fk.apply(this,arguments)}function fk(){return(fk=ee(ne().mark((function e(t,n){var r,i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vk(n),i=pk(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hk(e,t){return dk.apply(this,arguments)}function dk(){return(dk=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pk(t)._set(vk(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pk(e){return _m(e._redirectPersistence)}function vk(e){return pg("pendingRedirect",e.config.apiKey,e.name)}function mk(e,t,n){return function(e,t,n){return gk.apply(this,arguments)}(e,t,n)}function gk(){return(gk=ee(ne().mark((function e(t,n,r){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rg(t),gm(t,n,ey),a=Zy(i,r),e.next=5,hk(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yk(e,t){return kk.apply(this,arguments)}function kk(){return(kk=ee(ne().mark((function e(t,n){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rg(t)._initializationPromise;case 2:return e.abrupt("return",wk(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wk(e,t){return bk.apply(this,arguments)}function bk(){return bk=ee(ne().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Rg(t),a=Zy(i,n),o=new ck(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),bk.apply(this,arguments)}var xk=function(){function e(t){je(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ue(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ek(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ek(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(vm(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_k(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(_k(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function _k(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ek(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Sk(e){return Tk.apply(this,arguments)}function Tk(){return Tk=ee(ne().mark((function e(t){var n,r=arguments;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Lm(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}var Ik=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ck=/^https?/;function Nk(){return(Nk=ee(ne().mark((function e(t){var n,r,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sk(t);case 4:n=e.sent,r=n.authorizedDomains,i=Re(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Rk(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pm(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Rk(e){var t=Sm(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ck.test(r))return!1;if(Ik.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ak=new Cm(3e4,6e4);function Pk(){var e=Iy().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=J(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ok=null;function Lk(e){return Ok=Ok||function(e){return new Promise((function(t,n){var r,i,a;function o(){Pk(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Pk(),n(vm(e,"network-request-failed"))},timeout:Ak.get()})}if(null===(i=null===(r=Iy().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Iy().gapi)||void 0===a?void 0:a.load)){var s=Qy("iframefcb");return Iy()[s]=function(){gapi.load?o():n(vm(e,"network-request-failed"))},Gy("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ok=null,e}))}(e),Ok}var Dk=new Cm(5e3,15e3),jk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uk(e){var t=e.config;km(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Nm(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Mt},i=Mk.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(nt(r).slice(1))}function Fk(e){return Vk.apply(this,arguments)}function Vk(){return Vk=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lk(t);case 2:return n=e.sent,km(r=Iy().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Uk(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jk,dontclear:!0},(function(e){return new Promise(function(){var n=ee(ne().mark((function n(r,i){var a,o,s;return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Iy().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=vm(t,"network-request-failed"),o=Iy().setTimeout((function(){i(a)}),Dk.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}var zk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bk="_blank",qk="http://localhost",Hk=function(){function e(t){je(this,e),this.window=t,this.associatedEvent=null}return Ue(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Wk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},zk),{width:r.toString(),height:i.toString(),top:o,left:s}),l=We().toLowerCase();n&&(u=kg(l)?Bk:n),gg(l)&&(t=t||qk,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=a(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Sg(l)&&"_self"!==u)return Kk(t||"",u),new Hk(null);var h=window.open(t||"",u,f);km(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Hk(h)}function Kk(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Gk="__/auth/handler",Qk="emulator/auth/handler";function Xk(e,t,n,r,i,o){km(e.config.authDomain,e,"auth-domain-config-required"),km(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Mt,eventId:i};if(t instanceof ey){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=a(c[u],2),f=l[0],h=l[1];s[f]=h}}if(t instanceof ty){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gk);return Nm(t,Qk)}(e),"?").concat(nt(p).slice(1))}var $k="webStorageSupport",Yk=function(){function e(){je(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xy,this._completeRedirectFn=wk}return Ue(e,[{key:"_openPopup",value:function(){var e=ee(ne().mark((function e(t,n,r,i){var a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bm(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Xk(t,n,r,Sm(),i),e.abrupt("return",Wk(t,o,Sy()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ee(ne().mark((function e(t,n,r,i){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Xk(t,n,r,Sm(),i),Iy().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(bm(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ee(ne().mark((function e(t){var n,r;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fk(t);case 2:return n=e.sent,r=new xk(t),n.register("authEvent",(function(e){return km(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($k,{type:$k},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),pm(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ig()||yg()||Eg()}}]),e}(),Jk=Yk,Zk=function(e){Ae(n,e);var t=De(n);function n(e){var r;return je(this,n),(r=t.call(this,"phone")).credential=e,r}return Ue(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Lm(e,"POST","/v2/accounts/mfaEnrollment:finalize",Om(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Lm(e,"POST","/v2/accounts/mfaSignIn:finalize",Om(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){je(this,e),this.factorId=t}return Ue(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return wm("unexpected MultiFactorSessionType")}}}]),e}());(function(){function e(){je(this,e)}return Ue(e,null,[{key:"assertion",value:function(e){return Zk._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ew,tw="@firebase/auth",nw="0.19.7",rw=function(){function e(t){je(this,e),this.auth=t,this.internalListeners=new Map}return Ue(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ee(ne().mark((function e(t){var n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){km(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function iw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut(),t=Pt(e,"auth");return t.isInitialized()?t.getImmediate():Em(e,{popupRedirectResolver:Jk,persistence:[Wy,wy,xy]})}ew="Browser",At(new ut("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){km(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),km(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ew,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cg(ew)},r=new Ng(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_m);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),At(new ut("auth-internal",(function(e){return function(e){return new rw(e)}(Rg(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ft(tw,nw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ew)),Ft(tw,nw,"esm2017");var aw=function(){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){t={name:t}}var n=Object.assign({name:Tt,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw Dt.create("bad-app-name",{appName:String(r)});var i=Ct.get(r);if(i){if(et(e,i.options)&&et(n,i.config))return i;throw Dt.create("duplicate-app",{appName:r})}var a,o=new dt(r),s=Re(Nt.values());try{for(s.s();!(a=s.n()).done;){var u=a.value;o.addComponent(u)}}catch(l){s.e(l)}finally{s.f()}var c=new jt(e,n,o);return Ct.set(r,c),c}(function(){if(om&&om.apiKey)return om;throw new Error("No Firebase configuration object provided.\nAdd your web app's configuration object to firebase-config.js")}()),n=function(){return Pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut(),"firestore").getImmediate()}(t),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut(),t=arguments.length>1?arguments[1]:void 0;return Pt(e=st(e),qv).getImmediate({identifier:t})}(t);(0,e.useEffect)((function(){var e,t,n,r;e=iw(),t=g,st(e).onAuthStateChanged(t,n,r)}),[]);var i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=a((0,e.useState)(""),2),c=u[0],l=u[1],f=a((0,e.useState)(""),2),h=f[0],d=f[1],p=a((0,e.useState)(b()),2),v=p[0],m=p[1],g=function(){var e=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(s(t.uid),l(w()),d(y())):m(!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){return iw().currentUser.photoURL||"/images/profile_placeholder.png"},w=function(){return iw().currentUser.displayName};function b(){return!!iw().currentUser}var x=function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ry,n=iw(),e.next=4,mk(n,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){st(iw()).signOut()};function E(){return E=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lp(vd(n,"users"),{info:t.info,posts:t.posts,comments:t.comments,followers:t.followers,following:t.following,userLog:t.userLog});case 3:console.log("user added!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error writing new user to Firebase DB",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),E.apply(this,arguments)}function S(){return S=ee(ne().mark((function e(t){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lp(vd(n,"posts"),{id:t.id,createdBy:t.createdBy,timeCreated:t.timeCreated,description:t.description,photos:t.photos,photosStorageURL:t.photosStorageURL,comments:t.comments,whoLiked:t.whoLiked,whoSaved:t.whoSaved});case 3:return e.abrupt("return");case 6:e.prev=6,e.t0=e.catch(0),console.log("Error writing new post to Firebase DB",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),S.apply(this,arguments)}var T=a((0,e.useState)([]),2),I=T[0],C=T[1],N=a((0,e.useState)(null),2),R=N[0],A=N[1],P=a((0,e.useState)([]),2),O=P[0],L=P[1],D=a((0,e.useState)(!1),2),j=D[0],M=D[1];(0,e.useEffect)(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.current){e.next=7;break}return e.next=3,sp(vd(n,"users"));case 3:e.sent.forEach((function(e){var t=e.data();t.firebaseId=e.id,C((function(e){return e.concat(t)}))})),M(!0),U();case 7:case"end":return e.stop()}}),e)}))),[]);var U=function(){fp(rp(vd(n,"users")),(function(e){e.docChanges().forEach((function(e){if("removed"===e.type){var t=e.doc.data();C((function(e){return e.filter((function(e){return e.firebaseId!==t.firebaseId}))}))}else if("added"===e.type){var n=e.doc.data();n.firebaseId=e.doc.id,C((function(e){var t=J(e);return t.find((function(e){return e.id===n.id}))||(t=e.concat(n)),t}))}else if("modified"===e.type){var r=e.doc.data();C((function(e){var t=J(e);return t.forEach((function(e){e.info.id===r.info.id&&(e.posts.published=r.posts.published,e.posts.saved=r.posts.saved,e.posts.commented=r.posts.commented,e.posts.liked=r.posts.liked,e.posts.comments=r.posts.comments,e.followers=r.followers,e.following=r.following,e.info=r.info)})),t}))}}))}))},F=a((0,e.useState)(!1),2),V=F[0],z=F[1];(0,e.useEffect)(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V.current){e.next=7;break}return e.next=3,sp(vd(n,"posts"));case 3:e.sent.forEach((function(e){var t=e.data();t.firebaseId=e.id,L((function(e){return e.concat(t)}))})),z(!0),B();case 7:case"end":return e.stop()}}),e)}))),[]);var B=function(){fp(rp(vd(n,"posts")),(function(e){e.docChanges().forEach((function(e){if("removed"===e.type){var t=e.doc.data();L((function(e){return e.filter((function(e){return e.id!==t.id}))}))}else if("added"===e.type){var n=e.doc.data();n.firebaseId=e.doc.id,L((function(e){var t=J(e);return t.find((function(e){return e.id===n.id}))||(t=t.concat(n)),t}))}else if("modified"===e.type){var r=e.doc.data();L((function(e){var t=J(e);return t.forEach((function(e){e.id===r.id&&(e.comments=r.comments,e.whoLiked=r.whoLiked,e.whoSaved=r.whoSaved)})),t}))}else console.log("oops...")}))}))},q=a((0,e.useState)(!1),2),H=q[0],W=q[1];(0,e.useEffect)(ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H||j&&V&&(b&&(I.map((function(e){return e.info.id})).find((function(e){return e===o}))?(A(I.find((function(e){return e.info.id===o}))),m(!0)):m(!1)),W(!0));case 1:case"end":return e.stop()}}),e)}))),[O,I,R,o,j,V]);var K=function(){return O.filter((function(e){return R.following.find((function(t){return t.userID===e.createdBy}))}))},G=function(){if(R.posts.published){var e=R.posts.published.map((function(e){return e.id})),t=O.filter((function(t){return e.find((function(e){return e===t.id}))}));return t.sort((function(e,t){return ae(ue(t.timeCreated),ue(e.timeCreated))})),t}return[]},Q=a((0,e.useState)(!1),2),X=Q[0],Y=Q[1];return(0,$v.jsx)("div",{children:v||H?v?(0,$v.jsxs)("div",{className:"master-container",children:[(0,$v.jsxs)("div",{className:"nav",children:[(0,$v.jsx)("div",{className:"nav-left",children:(0,$v.jsx)("div",{className:"brand",children:(0,$v.jsx)($,{to:"/",children:"TheGram"})})}),(0,$v.jsx)("div",{className:"nav-mid",children:(0,$v.jsx)(Jv,{currentUser:R,setCurrentUser:A,users:I,setUsers:C,posts:O,setPosts:L,getPublishedPosts:G,getFollowingPosts:K})}),(0,$v.jsx)(em,{isSignedIn:v,currentUser:R,createNewPost:function(){Y(!0)},signIn:x,signOutUser:_})]}),X?(0,$v.jsx)(am,{toggleNewPostMenu:X,setToggleNewPostMenu:Y,storage:r,currentUser:R,savePost:function(e){return S.apply(this,arguments)},db:n}):null,(0,$v.jsx)("div",{className:"main-container",children:(0,$v.jsx)(k,{context:[R,A,I,C,O,L,G,K,n,r,x,_,c,h,v]})})]}):(0,$v.jsx)(nm,{signIn:x,users:I,getAuth:iw,getRedirectResult:yk,GoogleAuthProvider:ry,saveUser:function(e){return E.apply(this,arguments)}}):(0,$v.jsx)("div",{className:"loading-container",children:(0,$v.jsx)("i",{className:"fas fa-bed"})})})};function ow(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ow(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uw=function(e){var t=document.createElement("div");t.classList.add("toast-message"),t.textContent=e,document.body.appendChild(t),setTimeout((function(){document.querySelector(".toast-message").remove()}),2e3)},cw=function(t){var n=a(C(),10),r=n[0],i=(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]),o=n[9],s=t.post,u=t.setCardIsClicked,c=a((0,e.useState)(!1),2),l=c[0],f=c[1],h=a((0,e.useState)(!1),2),d=h[0],p=h[1],v=function(){return!(!window.location.href.includes(s.id)||document.getElementById("modal-for-post-".concat(s.id)))};(0,e.useEffect)((function(){if(l){var e=g(),t=y();if(e.appendChild(t),d){var n=document.querySelector(".post-menu-menu");n&&n.remove();var r=document.querySelector(".post-menu"),i=I();r.appendChild(i),document.querySelector(".master-container").appendChild(r)}else{var a=k();e.appendChild(a),document.querySelector(".master-container").appendChild(e)}}else m()}),[l,d]);var m=function(){var e=document.querySelector(".post-menu");e&&(e.remove(),document.body.classList.remove("stop-scrolling"))},g=function(){var e=document.createElement("div");return e.style.top=window.scrollY+"px",e.classList.add("post-menu"),document.body.classList.add("stop-scrolling"),e},y=function(){var e=document.createElement("div");return e.classList.add("post-menu-backdrop"),e.addEventListener("click",(function(){f(!1),p(!1)})),e},k=function(){var e=document.createElement("div");e.classList.add("post-menu-menu");var t=x(),n=E();if(e.appendChild(t),!v()){var r=_();e.appendChild(r)}return e.appendChild(n),e},w=T(),b=S(),x=function(){var e=document.createElement("div");return e.classList.add("post-menu-item"),s.createdBy===r.info.id?(e.textContent="Delete",e.id="post-delete-btn",e.addEventListener("click",ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d?("/"===b.pathname||(document.querySelector(".modal")&&u(!1),m(),w("/".concat(r.info.username,"/"))),N().then((function(e){uw("Post deleted successfully.")})).catch((function(e){uw("Error trying to delete the post: ".concat(e.message))}))):p(!0);case 1:case"end":return e.stop()}}),e)}))))):(e.textContent="Hello",e.id="post-delete-btn"),e},_=function(){var e;if(!v())return(e=document.createElement("div")).classList.add("post-menu-item"),e.textContent="Go To Post",e.id="flyer-go-to-post-btn",e.addEventListener("click",(function(){w("/p/".concat(s.id))})),e},E=function(){var e=document.createElement("div");return e.classList.add("post-menu-item"),e.textContent="Cancel",e.id="post-cancel-btn",e.addEventListener("click",(function(){f(!1),p(!1)})),e},I=function(){var e=document.createElement("div");e.classList.add("post-menu-menu");var t=document.createElement("div");t.classList.add("post-delete-confirm-menu-top");var n=document.createElement("div");n.textContent="Delete Post?",n.classList.add("post-delete-confirm-menu-title");var r=document.createElement("div");r.textContent="Are you sure you want to delete this post?",r.classList.add("post-delete-confirm-menu-description"),t.appendChild(n),t.appendChild(r);var i=x(),a=E();return e.appendChild(t),e.appendChild(i),e.appendChild(a),e},N=function(){var e=ee(ne().mark((function e(){var t,n,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=md(i,"posts",s.firebaseId),e.next=3,cp(t).then((function(){})).catch((function(e){console.log("sth went wrong while trying to delete post...")}));case 3:return n=md(i,"users",r.firebaseId),e.next=6,up(n,{"posts.published":r.posts.published.filter((function(e){return e.id!==s.id}))}).then((function(){})).catch((function(e){console.log("sth went wrong while trying to update user...")}));case 6:return a=Qv(o,s.photosStorageURL),e.next=9,Gv(a).then((function(){})).catch((function(e){console.log("sth went wrong while trying to delete post photos...")}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$v.jsx)("div",{className:"post-function-buttons",onClick:function(){f(!l)},children:(0,$v.jsx)("i",{className:"fas fa-ellipsis-h"})})},lw=function(e){var t=e.description;return(0,$v.jsx)("div",{children:t})};function fw(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function hw(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}({},e)}var dw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pw=function(e,t,n){var r,i=dw[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vw(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var mw={date:vw({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:vw({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:vw({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},gw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yw=function(e,t,n,r){return gw[e]};function kw(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=i.width?String(i.width):a;r=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var ww={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:kw({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:kw({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kw({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:kw({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:kw({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function bw(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,s=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?_w(u,(function(e){return e.test(s)})):xw(u,(function(e){return e.test(s)}));o=e.valueCallback?e.valueCallback(c):c,o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}function xw(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function _w(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var Ew,Sw={ordinalNumber:(Ew={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Ew.matchPattern);if(!n)return null;var r=n[0],i=e.match(Ew.parsePattern);if(!i)return null;var a=Ew.valueCallback?Ew.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;var o=e.slice(r.length);return{value:a,rest:o}}),era:bw({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:bw({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:bw({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:bw({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:bw({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},Tw={code:"en-US",formatDistance:pw,formatLong:mw,formatRelative:yw,localize:ww,match:Sw,options:{weekStartsOn:0,firstWeekContainsDate:1}},Iw=6e4,Cw=1440,Nw=43200,Rw=525600;function Aw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};re(2,arguments);var r=n.locale||Tw;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=ae(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var a,o,s=hw(n);s.addSuffix=Boolean(n.addSuffix),s.comparison=i,i>0?(a=ie(t),o=ie(e)):(a=ie(e),o=ie(t));var u,c=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===c)u=Math.floor;else if("ceil"===c)u=Math.ceil;else{if("round"!==c)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");u=Math.round}var l,f=o.getTime()-a.getTime(),h=f/Iw,d=fw(o)-fw(a),p=(f-d)/Iw;if("second"===(l=null==n.unit?h<1?"second":h<60?"minute":h<Cw?"hour":p<Nw?"day":p<Rw?"month":"year":String(n.unit))){var v=u(f/1e3);return r.formatDistance("xSeconds",v,s)}if("minute"===l){var m=u(h);return r.formatDistance("xMinutes",m,s)}if("hour"===l){var g=u(h/60);return r.formatDistance("xHours",g,s)}if("day"===l){var y=u(p/Cw);return r.formatDistance("xDays",y,s)}if("month"===l){var k=u(p/Nw);return 12===k&&"month"!==n.unit?r.formatDistance("xYears",1,s):r.formatDistance("xMonths",k,s)}if("year"===l){var w=u(p/Rw);return r.formatDistance("xYears",w,s)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function Pw(e,t){return re(1,arguments),Aw(e,Date.now(),t)}var Ow=function(e){var t=e.time;return(0,$v.jsx)("div",{className:"post-post-time-lapsed",children:Pw(ue(t))})},Lw=function(e){var t=e.time;return(0,$v.jsx)("div",{className:"post-post-time-lapsed",children:Pw(ue(t))})},Dw=function(e){var t=e.content;return(0,$v.jsx)("div",{className:"post-comment",children:t})},jw=function(e){var t=e.likedBy;return(0,$v.jsx)("div",{className:"post-comment-liked-by",children:0===t.length?"":1===t.length?"".concat(t.length," like"):"".concat(t.length," likes")})},Mw=function(e){var t=e.comment,n=e.activateReplyToThisComment;return(0,$v.jsx)("div",{className:"post-comment-reply-button",id:t.id,onClick:n,children:"Reply"})},Uw=function(e){var t=e.commentIsLiked,n=e.likeComment,r=e.comment;return(0,$v.jsx)("div",{className:"post-comment-like-button",id:"commentLikeBtn-for-".concat(r.id),onClick:n,children:t?(0,$v.jsx)("i",{className:"fas fa-heart"}):(0,$v.jsx)("i",{className:"far fa-heart"})})},Fw=function(t){var n=a(C(),9),r=n[0],i=(n[1],n[2],n[3],n[4]),o=(n[5],n[6],n[7],n[8]),s=t.className,u=t.post,c=t.replyCreator,l=t.comment,f=t.replyToComment,h=(t.replyTarget,t.setReplyTarget),d=a((0,e.useState)(f.whoLiked.find((function(e){return e.id===r.info.id}))),2),p=d[0],v=d[1],m=(0,e.useRef)(null);(0,e.useEffect)((function(){return m.current=!0,function(){return m.current=!1}}),[i]);var g=function(){var e=ee(ne().mark((function e(){var t,n,i,a,s,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=md(o,"posts",u.firebaseId),document.getElementById("commentLikeBtn-for-".concat(f.id)).firstChild.classList.contains("far")){for(n=J(u.comments),i=0;i<n.length;i++)for(a=0;a<n[i].repliesToComment.length;a++)n[i].repliesToComment[a].id===f.id&&(n[i].repliesToComment[a]=sw(sw({},n[i].repliesToComment[a]),{},{whoLiked:n[i].repliesToComment[a].whoLiked.concat({id:r.info.id,time:im(Date.now()).toString()})}));up(t,{comments:n}).then((function(e){m.current&&v(!0)}))}else{for(s=J(u.comments),c=0;c<s.length;c++)for(l=0;l<s[c].repliesToComment.length;l++)s[c].repliesToComment[l].id===f.id&&(s[c].repliesToComment[l]=sw(sw({},s[c].repliesToComment[l]),{},{whoLiked:s[c].repliesToComment[l].whoLiked.filter((function(e){return e.id!==r.info.id}))}));up(t,{comments:s}).then((function(e){m.current&&v(!1)}))}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$v.jsx)("div",{className:s,children:(0,$v.jsxs)("div",{className:"post-grid",children:[(0,$v.jsx)("div",{className:"post-grid-left-margin",children:(0,$v.jsxs)("div",{className:"post-grid-left",children:[(0,$v.jsx)("div",{className:"post-grid-left-left",children:(0,$v.jsx)(Yv,{className:"post-avatar",avatar:c.info.avatar})}),(0,$v.jsxs)("div",{className:"post-grid-left-right",children:[(0,$v.jsxs)("div",{className:"post-grid-row",children:[(0,$v.jsx)(Zv,{className:"post-username",username:c.info.username}),(0,$v.jsx)(Dw,{content:f.content})]}),(0,$v.jsxs)("div",{className:"post-grid-row",children:[(0,$v.jsx)(Lw,{time:f.timeCreated}),(0,$v.jsx)(jw,{likedBy:f.whoLiked}),(0,$v.jsx)(Mw,{comment:l,activateReplyToThisComment:function(e){h(e.target.id)}})]})]})]})}),(0,$v.jsx)("div",{className:"post-grid-right",children:(0,$v.jsx)(Uw,{commentIsLiked:p,likeComment:g,comment:f})})]})})},Vw=function(t){var n=a(C(),9),r=n[0],i=(n[1],n[2]),o=(n[3],n[4]),s=(n[5],n[6],n[7],n[8]),u=t.className,c=t.post,l=t.commentCreator,f=t.comment,h=t.replyTarget,d=t.setReplyTarget,p=a((0,e.useState)(f.whoLiked.find((function(e){return e.id===r.info.id}))),2),v=p[0],m=p[1],g=(0,e.useRef)(null);(0,e.useEffect)((function(){return g.current=!0,function(){return g.current=!1}}),[o]);var y=function(){var e=ee(ne().mark((function e(){var t,n,i,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=md(s,"posts",c.firebaseId),document.getElementById("commentLikeBtn-for-".concat(f.id)).firstChild.classList.contains("far")){for(n=J(c.comments),i=0;i<n.length;i++)n[i].id===f.id&&(n[i]=sw(sw({},n[i]),{},{whoLiked:n[i].whoLiked.concat({id:r.info.id,time:im(Date.now()).toString()})}));up(t,{comments:n}).then((function(e){g.current&&m(!0)}))}else{for(a=J(c.comments),o=0;o<a.length;o++)a[o].id===f.id&&(a[o]=sw(sw({},a[o]),{},{whoLiked:a[o].whoLiked.filter((function(e){return e.id!==r.info.id}))}));up(t,{comments:a}).then((function(e){g.current&&m(!1)}))}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$v.jsxs)("div",{className:u,children:[(0,$v.jsxs)("div",{className:"post-grid",children:[(0,$v.jsxs)("div",{className:"post-grid-left",children:[(0,$v.jsx)("div",{className:"post-grid-left-left",children:(0,$v.jsx)(Yv,{className:"post-avatar",avatar:l.info.avatar})}),(0,$v.jsxs)("div",{className:"post-grid-left-right",children:[(0,$v.jsxs)("div",{className:"post-grid-row",children:[(0,$v.jsx)(Zv,{className:"post-username",username:l.info.username}),(0,$v.jsx)(Dw,{content:f.content})]}),(0,$v.jsxs)("div",{className:"post-grid-row",children:[(0,$v.jsx)(Lw,{time:f.timeCreated}),(0,$v.jsx)(jw,{likedBy:f.whoLiked}),(0,$v.jsx)(Mw,{comment:f,activateReplyToThisComment:function(e){d(e.target.id)}})]})]})]}),(0,$v.jsx)("div",{className:"post-grid-right",children:(0,$v.jsx)(Uw,{commentIsLiked:v,likeComment:y,comment:f})})]}),f.repliesToComment.map((function(e){var t=e.createdBy,n=i.find((function(e){return e.info.id===t}));return(0,$v.jsx)("div",{children:(0,$v.jsx)(Fw,{className:"post-grids",post:c,replyCreator:n,comment:f,replyToComment:e,replyTarget:h,setReplyTarget:d})},e.id)}))]})},zw=function(e){var t=e.post,n=e.postIsLiked,r=e.likePost;return(0,$v.jsx)("div",{className:"post-post-like-button",id:"postLikeBtn-for-".concat(t.id),onClick:r,children:n?(0,$v.jsx)("i",{className:"fas fa-heart"}):(0,$v.jsx)("i",{className:"far fa-heart"})})},Bw=function(e){var t=e.handleCommentButtonClick;return(0,$v.jsx)("div",{children:(0,$v.jsx)("div",{className:"post-post-comment-button",onClick:function(e){t?t(e):document.getElementById("postCommentInput").focus()},children:(0,$v.jsx)("i",{className:"far fa-comment"})})})},qw=function(e){var t=e.post,n=e.isSaved,r=e.savePost;return(0,$v.jsx)("div",{className:"post-post-save-button",id:"postSaveBtn-for-".concat(t.id),onClick:r,children:n?(0,$v.jsx)("i",{className:"fas fa-bookmark"}):(0,$v.jsx)("i",{className:"far fa-bookmark"})})},Hw=function(e){var t=e.likedBy,n=e.likePost;return(0,$v.jsx)("div",{children:0===t.length?(0,$v.jsxs)("span",{children:["Be the first to ",(0,$v.jsx)("span",{onClick:n,style:{fontWeight:"bold",cursor:"pointer"},children:" like this"})]}):1===t.length?(0,$v.jsxs)("span",{className:"post-post-liked-by",children:[t.length," like"]}):(0,$v.jsxs)("span",{className:"post-post-liked-by",children:[t.length," likes"]})})},Ww=function(e){var t=e.time;return(0,$v.jsx)("div",{className:"post-post-time-lapsed",children:Pw(ue(t),{addSuffix:!0}).toUpperCase()})},Kw=function(e){var t=e.message,n=e.handleChange;return(0,$v.jsx)("div",{className:"post-post-comment-input",children:(0,$v.jsx)("input",{placeholder:"Add a comment...",autoComplete:"off",onChange:n,value:t,id:"postCommentInput"})})},Gw=function(e){var t=e.message,n=e.handleSubmit;return(0,$v.jsx)("button",{className:"post-post-comment-submit",disabled:""===t,onClick:n,children:"Post"})},Qw=function(t){var n=a(C(),10),r=n[0],i=(n[1],n[2]),o=(n[3],n[4],n[5],n[6],n[7],n[8]),s=n[9],u=t.flyer,c=t.flyers,l=(t.setFlyers,t.handleCommentButtonClick),f=i.find((function(e){return e.info.id===u.createdBy})),h=a((0,e.useState)(!!u.whoLiked.find((function(e){return e.id===r.info.id}))),2),d=h[0],p=h[1],v=function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J(c),!document.getElementById("postLikeBtn-for-".concat(u.id)).firstChild.classList.contains("far")){e.next=7;break}return t=md(o,"posts",u.firebaseId),e.next=5,up(t,{whoLiked:pp({id:r.info.id,time:im(Date.now()).toString()})}).then((function(e){p(!0)}));case 5:e.next=10;break;case 7:return n=md(o,"posts",u.firebaseId),e.next=10,up(n,{whoLiked:u.whoLiked.filter((function(e){return e.id!==r.info.id}))}).then((function(e){p(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=a((0,e.useState)(!!r.posts.saved.find((function(e){return e.postID===u.id}))),2),g=m[0],y=m[1],k=function(){var e=ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!document.getElementById("postSaveBtn-for-".concat(u.id)).firstChild.classList.contains("far")){e.next=6;break}return t=md(o,"users",r.firebaseId),e.next=4,up(t,{"posts.saved":pp({postID:u.id,time:im(Date.now()).toString()})}).then((function(e){y(!0)}));case 4:e.next=9;break;case 6:return n=md(o,"users",r.firebaseId),e.next=9,up(n,{"posts.saved":r.posts.saved.filter((function(e){return e.postID!==u.id}))}).then((function(e){y(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=a((0,e.useState)((function(){return{id:_e()(),createdBy:r.info.id,timeCreated:im(Date.now()).toString(),content:"",whoLiked:[],repliesToComment:[]}})),2),b=w[0],x=w[1],_=function(){var e=ee(ne().mark((function e(){var t;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=md(o,"posts",u.firebaseId),e.next=3,up(t,{comments:pp(b)});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,e.useEffect)((function(){x({id:_e()(),createdBy:r.info.id,timeCreated:im(Date.now()).toString(),content:"",whoLiked:[],repliesToComment:[]})}),[c]),(0,$v.jsxs)("div",{className:"flyer-container",children:[(0,$v.jsx)("div",{className:"flyer-top",children:(0,$v.jsxs)("div",{className:"flyer-grid",children:[(0,$v.jsxs)("div",{className:"flyer-grid-left",children:[(0,$v.jsx)(Yv,{className:"flyer-avatar",avatar:f.info.avatar,db:o,storage:s,clickable:!1}),(0,$v.jsx)(Zv,{className:"flyer-username",username:f.info.username})]}),(0,$v.jsx)("div",{className:"flyer-grid-right",children:(0,$v.jsx)(cw,{post:u})})]})}),(0,$v.jsx)("div",{className:"flyer-middle",children:(0,$v.jsx)("img",{src:u.photos})}),(0,$v.jsxs)("div",{className:"flyer-mid-bottom",children:[(0,$v.jsxs)("div",{className:"flyer-grid",children:[(0,$v.jsx)("div",{className:"flyer-grid-left",children:(0,$v.jsxs)("div",{className:"flyer-buttons",children:[(0,$v.jsx)(zw,{post:u,postIsLiked:d,handleClick:v}),(0,$v.jsx)(Bw,{handleCommentButtonClick:l})]})}),(0,$v.jsx)("div",{className:"flyer-grid-right",children:(0,$v.jsx)("div",{className:"flyer-buttons",children:(0,$v.jsx)(qw,{post:u,isSaved:g,savePost:k})})})]}),(0,$v.jsxs)("div",{className:"flyer-grid-rows",children:[(0,$v.jsx)("div",{className:"flyer-grid-row",children:(0,$v.jsx)(Hw,{likedBy:u.whoLiked,handleClick:v})}),(0,$v.jsxs)("div",{className:"flyer-grid-row",children:[(0,$v.jsx)(Zv,{className:"post-username",username:f.info.username}),(0,$v.jsx)(lw,{description:u.description})]}),(0,$v.jsx)("div",{}),(0,$v.jsx)("div",{className:"flyer-grid-row",children:(0,$v.jsx)(Ww,{time:u.timeCreated})})]})]}),(0,$v.jsx)("div",{className:"flyer-bottom",children:(0,$v.jsxs)("div",{className:"flyer-grid",children:[(0,$v.jsx)("div",{className:"flyer-grid-left",children:(0,$v.jsx)("div",{className:"flyer-grid-left-left",children:(0,$v.jsx)(Kw,{message:b.content,handleChange:function(e){x((function(t){return sw(sw({},t),{},{timeCreated:im(Date.now()).toString(),content:e.target.value})}))}})})}),(0,$v.jsx)("div",{className:"flyer-grid-right",children:(0,$v.jsx)(Gw,{message:b.content,handleSubmit:_})})]})})]})},Xw=function(t){var n=t.id,r=t.handleCommentButtonClick,i=t.setCardIsClicked,o=a(C(),10),s=o[0],u=(o[1],o[2]),c=(o[3],o[4]),l=(o[5],o[6],o[7],o[8]),f=o[9],h=N().postId;h||n&&(h=n);var d=u.find((function(e){return e.posts.published.find((function(e){return e.id===h}))})),p=c.find((function(e){return e.id===h})),v=a((0,e.useState)(!!p.whoLiked.find((function(e){return e.id===s.info.id}))),2),m=v[0],g=v[1],y=function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("postLikeBtn-for-".concat(p.id)).firstChild.classList.contains("far")?up(md(l,"posts",p.firebaseId),{whoLiked:pp({id:s.info.id,time:im(Date.now()).toString()})}).then((function(e){A.current&&g(!0)})):up(md(l,"posts",p.firebaseId),{whoLiked:p.whoLiked.filter((function(e){return e.id!==s.info.id}))}).then((function(e){A.current&&g(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=a((0,e.useState)("post"),2),w=k[0],b=k[1],x=a((0,e.useState)((function(){return"post"===w?{id:_e()(),createdBy:s.info.id,timeCreated:im(Date.now()).toString(),content:"",whoLiked:[],repliesToComment:[]}:{id:_e()(),createdBy:s.info.id,timeCreated:im(Date.now()).toString(),content:"",whoLiked:[]}})),2),_=x[0],E=x[1],S=function(){var e=ee(ne().mark((function e(){var t,n,r,i;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("post"===w)up(md(l,"posts",p.firebaseId),{comments:pp(_)}).then((function(e){A.current&&E({id:_e()(),createdBy:s.info.id,timeCreated:im(Date.now()).toString(),content:"",whoLiked:[],repliesToComment:[]})}));else{for(t=w,n=md(l,"posts",p.firebaseId),r=J(p.comments),i=0;i<r.length;i++)r[i].id===t&&(r[i]=sw(sw({},r[i]),{},{repliesToComment:r[i].repliesToComment.concat(_)}));up(n,{comments:r}).then((function(e){A.current&&E({id:_e()(),createdBy:s.info.id,timeCreated:im(Date.now()).toString(),content:"",whoLiked:[]})}))}b("post");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)((function(){return function(){return!1}}),[c,w]);var T=a((0,e.useState)(!!s.posts.saved.find((function(e){return e.postID===p.id}))),2),I=T[0],R=T[1],A=(0,e.useRef)(null);(0,e.useEffect)((function(){return A.current=!0,function(){return A.current=!1}}),[c]);var P=function(){var e=ee(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("postSaveBtn-for-".concat(p.id)).firstChild.classList.contains("far")?up(md(l,"users",s.firebaseId),{"posts.saved":pp({postID:p.id,time:im(Date.now()).toString()})}).then((function(e){A.current&&R(!0)})):up(md(l,"users",s.firebaseId),{"posts.saved":s.posts.saved.filter((function(e){return e.postID!==p.id}))}).then((function(e){A.current&&R(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,$v.jsx)("div",{className:"post-container",children:(0,$v.jsxs)("div",{className:"post-content",children:[(0,$v.jsx)("div",{className:"post-left",children:(0,$v.jsx)("img",{src:p.photos})}),(0,$v.jsxs)("div",{className:"post-right",children:[(0,$v.jsx)("div",{className:"post-right-top",children:(0,$v.jsxs)("div",{className:"post-grid",children:[(0,$v.jsxs)("div",{className:"post-grid-left",children:[(0,$v.jsx)("div",{className:"post-grid-left-left",children:(0,$v.jsx)(Yv,{className:"post-avatar",avatar:d.info.avatar,db:l,storage:f,clickable:!1})}),(0,$v.jsx)("div",{className:"post-grid-left-right",children:(0,$v.jsx)(Zv,{className:"post-username",username:d.info.username})})]}),(0,$v.jsx)("div",{className:"post-grid-right",children:(0,$v.jsx)(cw,{post:p,setCardIsClicked:i})})]})}),(0,$v.jsxs)("div",{className:"post-right-middle",children:[(0,$v.jsx)("div",{className:"post-grid",children:(0,$v.jsxs)("div",{className:"post-grid-left",children:[(0,$v.jsx)("div",{className:"post-grid-left-left",children:(0,$v.jsx)(Yv,{className:"post-avatar",avatar:d.info.avatar,clickable:!1})}),(0,$v.jsxs)("div",{className:"post-grid-left-right",children:[(0,$v.jsxs)("div",{className:"post-grid-row",children:[(0,$v.jsx)(Zv,{className:"post-username",username:d.info.username}),(0,$v.jsx)(lw,{description:p.description})]}),(0,$v.jsx)("div",{className:"post-grid-row",children:(0,$v.jsx)(Ow,{time:p.timeCreated})})]})]})}),p.comments.map((function(e){var t=u.find((function(t){return t.info.id===e.createdBy}));return(0,$v.jsx)("div",{children:(0,$v.jsx)(Vw,{className:"post-grids",post:p,commentCreator:t,comment:e,replyTarget:w,setReplyTarget:b})},e.id)}))]}),(0,$v.jsxs)("div",{className:"post-right-mid-bottom",children:[(0,$v.jsxs)("div",{className:"post-grid",children:[(0,$v.jsx)("div",{className:"post-grid-left",children:(0,$v.jsxs)("div",{className:"post-buttons",children:[(0,$v.jsx)(zw,{post:p,postIsLiked:m,likePost:y}),(0,$v.jsx)(Bw,{handleCommentButtonClick:r})]})}),(0,$v.jsx)("div",{className:"post-grid-right",children:(0,$v.jsx)("div",{className:"post-buttons",children:(0,$v.jsx)(qw,{post:p,isSaved:I,savePost:P})})})]}),(0,$v.jsx)("div",{className:"post-grid",children:(0,$v.jsx)("div",{className:"post-grid-left",children:(0,$v.jsxs)("div",{className:"post-grid-left-left",children:[(0,$v.jsx)("div",{className:"post-grid-row",children:(0,$v.jsx)(Hw,{likedBy:p.whoLiked,likePost:y})}),(0,$v.jsx)("div",{className:"post-grid-row",children:(0,$v.jsx)(Ww,{time:p.timeCreated})})]})})})]}),(0,$v.jsx)("div",{className:"post-right-bottom",children:(0,$v.jsxs)("div",{className:"post-grid",children:[(0,$v.jsx)("div",{className:"post-grid-left",children:(0,$v.jsx)("div",{className:"post-grid-left-left",children:(0,$v.jsx)(Kw,{message:_.content,handleChange:function(e){E((function(t){return sw(sw({},t),{},{timeCreated:im(Date.now()).toString(),content:e.target.value})}))}})})}),(0,$v.jsx)("div",{className:"post-grid-right",children:(0,$v.jsx)(Gw,{message:_.content,handleSubmit:S})})]})})]})]})})},$w=function(){var t=a(C(),10),n=t[0],r=(t[1],t[2]),i=(t[3],t[4]),o=(t[5],t[6]),s=t[7],u=t[8],c=t[9],l=function(){var e=o(),t=s(),n=e.concat(t);return n.sort((function(e,t){return ae(ue(t.timeCreated),ue(e.timeCreated))})),n},f=a((0,e.useState)(l()),2),h=f[0],d=f[1];(0,e.useEffect)((function(){d(l())}),[i,r]);var p=a((0,e.useState)(!1),2),v=p[0],m=p[1],g=a((0,e.useState)(""),2),y=g[0],k=g[1],w=function(e){return!!window.location.href.includes(e)},b=function(e){if(y){if(w(y))document.querySelector(".modal-post input").focus();else console.log("??")}else{var t=e.target.closest(".flyer-container").parentNode.id;document.body.classList.add("stop-scrolling"),k(t)}},x=function(e){e.target===e.currentTarget&&(m(!1),k(""),document.body.classList.remove("stop-scrolling"),window.history.pushState({},"test title","/#/"))};(0,e.useEffect)((function(){var e=function(e){"Escape"===e.key&&(m(!1),k(""),document.body.classList.remove("stop-scrolling"),window.history.pushState({},"test title","/#/"))};return v&&document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[v]);var _=(0,e.useRef)(!0);(0,e.useEffect)((function(){_.current?_.current=!1:""!==y&&(w(y)||(window.history.pushState({post:"".concat(y)},"test title","/#/p/".concat(y)),v||m(!0)))}),[y]);var E=function(e){var t=e.targetPostId;return(0,$v.jsx)("div",{children:""!==t?(0,$v.jsxs)("div",{id:"modal-for-post-".concat(t),className:"modal-body",onClick:x,children:[(0,$v.jsx)("div",{}),(0,$v.jsx)("div",{className:"modal-post",children:(0,$v.jsx)(Xw,{id:t,handleCommentButtonClick:b})}),(0,$v.jsx)("div",{})]}):null})};return(0,$v.jsxs)("div",{className:"home-container",children:[(0,$v.jsx)("div",{className:"home-left",children:h.map((function(e){return(0,$v.jsx)("div",{id:e.id,children:(0,$v.jsx)(Qw,{flyer:e,flyers:h,setFlyers:d,handleCommentButtonClick:b})},e.id)}))}),(0,$v.jsxs)("div",{className:"home-right",children:[(0,$v.jsxs)("div",{className:"home-user-profile",children:[(0,$v.jsx)($,{to:"".concat(n.info.username,"/"),children:(0,$v.jsx)(Yv,{className:"home-avatar",avatar:n.info.avatar,currentUser:n,db:u,storage:c,clickable:!1,pageOwner:n})}),(0,$v.jsxs)("div",{className:"home-user-profile-right",children:[(0,$v.jsx)($,{to:"".concat(n.info.username,"/"),className:"home-username",children:(0,$v.jsx)("div",{children:n.info.username})}),(0,$v.jsx)("div",{className:"home-nickname",children:n.info.nickname})]})]}),(0,$v.jsx)(tm,{})]}),v?(0,$v.jsx)("div",{className:"modal",children:(0,$v.jsxs)("div",{className:"modal-content",children:[(0,$v.jsx)("div",{className:"modal-header",children:(0,$v.jsx)("span",{className:"close",onClick:x,children:"\xd7"})}),(0,$v.jsx)(E,{targetPostId:y})]})}):null]})},Yw=function(e){var t=e.className;return(0,$v.jsx)("div",{className:t,children:(0,$v.jsx)(Y,{to:"/accounts/edit/",children:(0,$v.jsx)("i",{className:"fas fa-cog"})})})},Jw=function(e){var t=e.published;return(0,$v.jsxs)("div",{children:[(0,$v.jsx)("span",{style:{fontWeight:"bold"},children:t.length})," "," ",t.length<=1?"post":"posts"]})},Zw=function(e){var t=e.followers;return(0,$v.jsxs)("div",{children:[(0,$v.jsx)("span",{style:{fontWeight:"bold"},children:t.length})," "," ",t.length<=1?"follower":"followers"]})},eb=function(e){var t=e.following;return(0,$v.jsxs)("div",{children:[(0,$v.jsx)("span",{style:{fontWeight:"bold"},children:t.length})," "," following"]})},tb=function(e){var t=e.nickname;return(0,$v.jsx)("div",{style:{fontWeight:"bold"},children:t||"default"})},nb=function(t){var n=a(C(),9),r=n[0],i=(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]),o=t.pageOwner,s=a((0,e.useState)(!1),2),u=s[0],c=s[1];(0,e.useEffect)((function(){c(!!o.followers.find((function(e){return e.userID===r.info.id})))}),[o]);var l=(0,e.useRef)(!1);return(0,e.useEffect)(ee(ne().mark((function e(){var t,n;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.current){e.next=4;break}l.current=!0,e.next=18;break;case 4:if(t=md(i,"users",r.firebaseId),n=md(i,"users",o.firebaseId),u){e.next=13;break}return e.next=9,up(t,{following:r.following.filter((function(e){return e.userID!==o.info.id}))});case 9:return e.next=11,up(n,{followers:o.followers.filter((function(e){return e.userID!==r.info.id}))});case 11:e.next=18;break;case 13:if(o.followers.find((function(e){return e.userID===r.info.id}))){e.next=18;break}return e.next=16,up(t,{following:pp({userID:o.info.id,time:im(Date.now()).toString()})});case 16:return e.next=18,up(n,{followers:pp({userID:r.info.id,time:im(Date.now()).toString()})});case 18:case"end":return e.stop()}}),e)}))),[u]),(0,$v.jsx)("div",{children:u?(0,$v.jsxs)("button",{onClick:function(){c(!1)},className:"profile-followed-btn",children:[(0,$v.jsx)("i",{className:"fas fa-user"}),(0,$v.jsx)("i",{className:"fas fa-check"})]}):(0,$v.jsx)("button",{onClick:function(){c(!0)},className:"profile-to-follow-btn",children:"Follow"})})},rb=function(){var t=a(C(),10),n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],h=t[9],d=N().username,p=(0,e.useState)(i.find((function(e){return e.info.username===d}))),v=a(p,2),m=v[0],g=v[1];(0,e.useEffect)((function(){g(i.find((function(e){return e.info.username===d})))}),[d]);return(0,$v.jsxs)("div",{className:"profile-container",children:[(0,$v.jsxs)("div",{className:"header-container",children:[(0,$v.jsx)("div",{className:"header-left",children:(0,$v.jsx)(Yv,{className:"header-avatar",avatar:m.info.avatar,currentUser:n,db:f,storage:h,clickable:!0,pageOwner:m})}),(0,$v.jsxs)("div",{className:"header-right",children:[(0,$v.jsxs)("div",{className:"header-row",children:[(0,$v.jsx)("div",{className:"header-username",children:m.info.username}),d===n.info.username?(0,$v.jsx)(Yw,{className:"header-edit-profile-button"}):(0,$v.jsx)(nb,{pageOwner:m})]}),(0,$v.jsxs)("div",{className:"header-row",children:[(0,$v.jsx)(Jw,{published:m.posts.published}),(0,$v.jsx)(Zw,{followers:m.followers}),(0,$v.jsx)(eb,{following:m.following})]}),(0,$v.jsx)("div",{className:"header-row",children:(0,$v.jsx)(tb,{nickname:m.info.nickname})})]})]}),(0,$v.jsxs)("div",{className:"profile-nav-container",children:[(0,$v.jsx)(Y,{to:"/".concat(d,"/"),className:function(e){return e.isActive?"profile-nav-active":"profile-nav-inactive"},children:"POSTS"}),m.info.id===n.info.id?(0,$v.jsx)(Y,{to:"saved",className:function(e){return e.isActive?"profile-nav-active":"profile-nav-inactive"},children:"SAVED"}):null]}),(0,$v.jsx)("div",{className:"profile-main-container",children:(0,$v.jsx)(k,{context:[n,r,i,o,s,u,c,l,f,h,function(e){var t=e.target.parentNode.parentNode.id;u((function(e){var n=J(e);return n.forEach((function(e){e.id===t&&(e.isHovered=!0)})),n}))},function(e){var t=e.target.parentNode.parentNode.id;u((function(e){var n=J(e);return n.forEach((function(e){e.id===t&&(e.isHovered=!1)})),n}))},function(){u((function(e){var t=J(e);return t.forEach((function(e){e.isHovered=!1})),t}))},m]})}),(0,$v.jsx)(tm,{})]})},ib=function(e){var t=e.photoPreview,n=e.handleMouseOver,r=e.handleMouseOut,i=e.handleClick,a=e.isHovered,o=e.post,s=e.resetHover;return(0,$v.jsxs)("div",{className:"card",onMouseOver:n,onMouseOut:r,onClick:i,onLoad:s,children:[(0,$v.jsx)("img",{src:t,className:a?"card-hover":null}),a?(0,$v.jsxs)("div",{className:"card-hover-info",children:[(0,$v.jsxs)("span",{children:[(0,$v.jsx)("i",{className:"fas fa-heart"})," ",o.whoLiked.length]}),(0,$v.jsxs)("span",{children:[(0,$v.jsx)("i",{className:"fas fa-comment"})," ",o.comments.length]})]}):null]})},ab=function(t){var n=t.postsToDisplay,r=t.handleMouseOver,i=t.handleMouseOut,o=t.resetHover,s=(t.getPublishedPosts,a((0,e.useState)(!1),2)),u=s[0],c=s[1],l=a((0,e.useState)(""),2),f=l[0],h=l[1],d=function(e){var t=e.target.parentNode.parentNode.id;document.body.classList.add("stop-scrolling"),h(t)},p=function(e){e.target===e.currentTarget&&(c(!1),h(""),document.body.classList.remove("stop-scrolling"))};(0,e.useEffect)((function(){var e=function(e){"Escape"===e.key&&(c(!1),h(""),document.body.classList.remove("stop-scrolling"),window.history.pushState({},"test title","/#/"))};return u&&document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[u]);var v=(0,e.useRef)(!0);(0,e.useEffect)((function(){v.current?v.current=!1:""!==f&&(window.history.pushState({post:"".concat(f)},"test title","/#/p/".concat(f)),u||c(!0))}),[f]);var m=function(t){var r=t.targetPostId,i=function(){var t=a((0,e.useState)(r!==n[0].id),2),i=t[0],o=t[1];return(0,e.useEffect)((function(){r===n[0].id&&o(!1)}),[r]),(0,$v.jsx)("div",{children:i?(0,$v.jsx)("div",{className:"modal-left-btn",onClick:function(){var e=n.find((function(e){return e.id===r})),t=n.indexOf(e),i=n[t-1].id;h(i)},children:(0,$v.jsx)("i",{className:"fas fa-chevron-left"})}):null})},o=function(){var t=a((0,e.useState)(r!==n[n.length-1].id),2),i=t[0],o=t[1];return(0,e.useEffect)((function(){r===n[n.length-1].id&&o(!1)}),[r]),(0,$v.jsx)("div",{children:i?(0,$v.jsx)("div",{className:"modal-right-btn",onClick:function(){var e=n.find((function(e){return e.id===r})),t=n.indexOf(e),i=n[t+1].id;h(i)},children:(0,$v.jsx)("i",{className:"fas fa-chevron-right"})}):null})};return(0,$v.jsxs)("div",{id:"modal-for-post-".concat(r),className:"modal-body",onClick:p,children:[(0,$v.jsx)(i,{}),(0,$v.jsx)("div",{className:"modal-post",children:(0,$v.jsx)(Xw,{id:r,handleCommentButtonClick:null,setCardIsClicked:c})}),(0,$v.jsx)(o,{})]})};return(0,$v.jsxs)("div",{className:"card-container",children:[n.map((function(e){return(0,$v.jsx)("div",{id:e.id,children:(0,$v.jsx)(ib,{handleMouseOver:r,handleMouseOut:i,handleClick:d,photoPreview:e.photos,isHovered:e.isHovered,post:e,resetHover:o})},e.id)})),u?(0,$v.jsx)("div",{className:"modal",children:(0,$v.jsxs)("div",{className:"modal-content",children:[(0,$v.jsx)("div",{className:"modal-header",children:(0,$v.jsx)("span",{className:"close",onClick:p,children:"\xd7"})}),(0,$v.jsx)(m,{targetPostId:f})]})}):null]})},ob=(im(new Date(2022,0,18,11,0,0)).toString(),im(new Date(2022,0,18,11,0,0)).toString(),im(new Date(2022,0,18,10,0,0)).toString(),im(new Date(2022,0,18,11,0,0)).toString(),im(new Date(2022,0,18,12,0,0)).toString(),im(new Date(2022,0,18,15,0,0)).toString(),im(new Date(2022,0,18,16,0,0)).toString(),im(new Date(2022,0,18,18,0,0)).toString(),im(new Date(2022,0,18,12,0,0)).toString(),im(new Date(2022,0,17,10,0,0)).toString(),im(new Date(2022,0,18,11,0,0)).toString(),im(new Date(2022,0,18,12,0,0)).toString(),im(new Date(2022,0,18,11,0,0)).toString(),function(){var t=a(C(),14),n=(t[0],t[1],t[2],t[3],t[4]),r=(t[5],t[6]),i=(t[7],t[8],t[9],t[10]),o=t[11],s=t[12],u=t[13],c=N().username,l=a((0,e.useState)(c),2),f=l[0],h=l[1];(0,e.useEffect)((function(){h(c)}),[c]);var d=function(){var e=u.posts.published.map((function(e){return e.id})),t=n.filter((function(t){return e.find((function(e){return e===t.id}))}));return t.sort((function(e,t){return ae(ue(t.timeCreated),ue(e.timeCreated))})),t},p=a((0,e.useState)(d()),2),v=p[0],m=p[1];return(0,e.useEffect)((function(){m(d())}),[n,u,f]),(0,$v.jsx)(ab,{postsToDisplay:v,handleMouseOver:i,handleMouseOut:o,resetHover:s,getPublishedPosts:r})}),sb=function(){var t=a(C(),14),n=t[0],r=(t[1],t[2],t[3],t[4]),i=(t[5],t[6]),o=(t[7],t[8],t[9],t[10]),s=t[11],u=t[12],c=(t[13],function(){var e=n.posts.saved.map((function(e){return e.postID})),t=r.filter((function(t){return e.find((function(e){return e===t.id}))}));return t}),l=a((0,e.useState)(c()),2),f=l[0],h=l[1];return(0,e.useEffect)((function(){h(c())}),[r]),(0,$v.jsx)(ab,{postsToDisplay:f,handleMouseOver:o,handleMouseOut:s,resetHover:u,getPublishedPosts:i})},ub=function(){return(0,$v.jsxs)("div",{className:"not-found-container",children:[(0,$v.jsxs)("div",{className:"not-found-content",children:[(0,$v.jsx)("h3",{children:"Sorry, this page isn't available."}),(0,$v.jsx)("p",{children:"The link you followed may be broken, or the page may have been removed."})]}),(0,$v.jsx)(tm,{})]})},cb=function(){var e=a(C(),15),t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14];return(0,$v.jsxs)("div",{className:"edit-account-container",children:[m?(0,$v.jsxs)("div",{className:"edit-account-left",children:[(0,$v.jsx)("div",{className:"edit-account-left-top",children:(0,$v.jsx)(Y,{style:function(e){return{fontWeight:e.isActive?"bold":"normal"}},to:"/accounts/edit/",children:"Edit Profile"})}),(0,$v.jsx)("div",{className:"edit-account-left-bottom",children:(0,$v.jsx)("div",{className:"brand",children:(0,$v.jsx)(Y,{to:"/",children:"TheGram"})})})]}):null,(0,$v.jsx)("div",{className:"edit-account-right",children:(0,$v.jsx)(k,{context:[t,n,r,i,o,s,u,c,l,f,h,d,p,v,m]})})]})},lb=function(e){e.avatar;var t=e.currentUser,n=e.db,r=e.storage,i=function(){var e=ee(ne().mark((function e(i){var a,o,s,u,c,l;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=md(n,"users",t.firebaseId),e.next=4,up(a,{"info.avatar":"https://www.google.com/images/spin-32.gif?a"});case 4:return o=t.info.avatarStorageURL,s=Qv(r,o),e.next=8,Wv(s.parent).then((function(e){return e.items.length})).catch((function(e){console.log(e)}));case 8:return e.sent>0?Gv(s).then((function(){console.log("existing avatar deleted!")})).catch((function(e){console.log("sth went wrong while trying to delete existing avatar...")})):console.log("no existing file in the avatar folder"),u=Qv(r,"users/".concat(t.info.username,"/avatar/").concat(i.name)),e.next=13,Hv(u,i).then((function(e){console.log("uploaded a file!"),c=e.metadata.fullPath})).catch((function(e){console.log("error uploading the file...",e)}));case 13:return e.sent,e.next=16,Kv(u);case 16:return l=e.sent,e.next=19,up(a,{"info.avatar":l,"info.avatarStorageURL":c});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("There was an error uploading a file to Cloud Storage:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,$v.jsx)("div",{id:"edit-account-avatar-caption",onClick:function(){!function(){var e=document.createElement("input");e.type="file",e.onchange=function(e){var t=e.target.files[0];t.type.match("image.*")&&i(t)},e.click()}()},children:"Change Profile Photo"})},fb=function(){var t=a(C(),15),n=t[0],r=(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]),i=t[9],o=(t[10],t[11],t[12],t[13],t[14],a((0,e.useState)(n.info.avatar),2)),s=(o[0],o[1],a((0,e.useState)(n.info.nickname),2)),u=s[0],c=s[1],l=a((0,e.useState)(n.info.username),2),f=l[0],h=l[1],d=function(){var e=document.getElementById("editAccountNicknameInput"),t=document.getElementById("editAccountUsernameInput"),n=document.querySelector("#editAccountNicknameInput + span.error"),r=document.querySelector("#editAccountUsernameInput + span.error");e.validity.valid&&(n.textContent=""),t.validity.valid&&(r.textContent=""),e.validity.valid&&t.validity.valid||(e.validity.valid||(e.validity.valueMissing?n.textContent="value missing":e.validity.tooShort?n.textContent="min. 5 characters is required":n.textContent="whoops..."),t.validity.valid||(t.validity.valueMissing?r.textContent="value missing":t.validity.tooShort&&(r.textContent="min. 5 characters is required")))},p=function(e){"editAccountNicknameInput"===e.target.id?c(e.target.value):"editAccountUsernameInput"===e.target.id&&h(e.target.value),document.getElementById("editAccountSubmitBtn").classList.remove("disabled"),d()},v=function(){var e=ee(ne().mark((function e(t){var i,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i=document.getElementById("editAccountNicknameInput"),(a=document.getElementById("editAccountUsernameInput")).value.includes(" ")?uw("spaces not allowed in username. Try again :)"):i.validity.valid&&a.validity.valid?up(md(r,"users",n.firebaseId),{"info.username":a.value,"info.nickname":i.value}).then((function(e){uw("changes committed")})).catch((function(e){console.log("error updating user info...",e)})):(d(),uw("something went wrong..."));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,$v.jsx)("div",{children:(0,$v.jsxs)("form",{noValidate:!0,children:[(0,$v.jsxs)("div",{className:"edit-account-right-row",children:[(0,$v.jsx)("div",{className:"edit-account-right-row-left",children:(0,$v.jsx)(Yv,{className:"edit-account-avatar",avatar:n.info.avatar,currentUser:n,db:r,storage:i,clickable:!0,pageOwner:n})}),(0,$v.jsxs)("div",{className:"edit-account-right-row-right",children:[(0,$v.jsx)("span",{id:"edit-account-username",children:f}),(0,$v.jsx)(lb,{avatar:n.info.avatar,currentUser:n,db:r,storage:i})]})]}),(0,$v.jsxs)("div",{className:"edit-account-right-row",children:[(0,$v.jsx)("div",{className:"edit-account-right-row-left",children:(0,$v.jsx)("label",{htmlFor:"editAccountNicknameInput",children:"Name"})}),(0,$v.jsxs)("div",{className:"edit-account-right-row-right",children:[(0,$v.jsx)("input",{placeholder:"Name",value:u,id:"editAccountNicknameInput",onChange:p,autoComplete:"off",minLength:"5",required:!0}),(0,$v.jsx)("span",{className:"error"})]})]}),(0,$v.jsxs)("div",{className:"edit-account-right-row",children:[(0,$v.jsx)("div",{className:"edit-account-right-row-left",children:(0,$v.jsx)("label",{htmlFor:"editAccountUsernameInput",children:"Username"})}),(0,$v.jsxs)("div",{className:"edit-account-right-row-right",children:[(0,$v.jsx)("input",{placeholder:"Username",value:f,id:"editAccountUsernameInput",onChange:p,autoComplete:"off",minLength:"5",required:!0}),(0,$v.jsx)("span",{className:"error"})]})]}),(0,$v.jsx)("div",{className:"edit-account-right-row",children:(0,$v.jsx)("div",{className:"edit-account-right-row-right",children:(0,$v.jsx)("button",{id:"editAccountSubmitBtn",className:"disabled",onClick:v,children:"Submit"})})})]})})},hb=function(){return(0,$v.jsx)("div",{children:(0,$v.jsx)(X,{children:(0,$v.jsx)(x,{children:(0,$v.jsxs)(w,{path:"/",element:(0,$v.jsx)(aw,{}),children:[(0,$v.jsx)(w,{index:!0,element:(0,$v.jsx)($w,{})}),(0,$v.jsx)(w,{path:"p/:postId/",element:(0,$v.jsx)(Xw,{})}),(0,$v.jsxs)(w,{path:":username/",element:(0,$v.jsx)(rb,{}),children:[(0,$v.jsx)(w,{index:!0,element:(0,$v.jsx)(ob,{})}),(0,$v.jsx)(w,{path:"saved",element:(0,$v.jsx)(sb,{})})]}),(0,$v.jsx)(w,{path:"accounts/",element:(0,$v.jsx)(cb,{}),children:(0,$v.jsx)(w,{path:"edit/",element:(0,$v.jsx)(fb,{})})}),(0,$v.jsx)(w,{path:"*",element:(0,$v.jsx)(ub,{})})]})})})})};t.render((0,$v.jsx)(e.StrictMode,{children:(0,$v.jsx)(hb,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.ad792483.js.map